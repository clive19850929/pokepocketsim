[GAMELOG] game_id=24635c8e-70c5-4d27-9fef-80c433b229ab path=D:\date\24635c8e-70c5-4d27-9fef-80c433b229ab.log self=c:\users\clive\poke-pocket-sim\ai vs ai.py argv0=c:\users\clive\poke-pocket-sim\ai vs ai.py tee_ok=True
[SYNC] action_schema_sha=8d16a4d3ebd89651d6836c8229adfb7e881a009aa1c4d1b1905c96a1a658be13
[SELF] file=c:\users\clive\poke-pocket-sim\ai vs ai.py argv0=c:\users\clive\poke-pocket-sim\ai vs ai.py pid=24896
[LOG] ===== game log begin ===== ts=2026-01-04 22:51:12 game_id=24635c8e-70c5-4d27-9fef-80c433b229ab
[LOG] path=D:\date\24635c8e-70c5-4d27-9fef-80c433b229ab.log
[LOG] pid=24896 python=3.10.0
[LOG] cwd=C:\Users\CLIVE\poke-pocket-sim
[LOG] argv=['c:/Users/CLIVE/poke-pocket-sim/ai vs ai.py']
[LOG] ===========================
[multiprocess] processes=1  plan=[1]
[SYNC] action_schema_sha=8d16a4d3ebd89651d6836c8229adfb7e881a009aa1c4d1b1905c96a1a658be13
[SYNC] action_schema_sha=8d16a4d3ebd89651d6836c8229adfb7e881a009aa1c4d1b1905c96a1a658be13
[SYNC] action_schema_sha=8d16a4d3ebd89651d6836c8229adfb7e881a009aa1c4d1b1905c96a1a658be13
[OUT] raw=D:\date\ai_vs_ai_match_all.jsonl (abs=D:\date\ai_vs_ai_match_all.jsonl)
[OUT] ids=D:\date\ai_vs_ai_match_all_ids.jsonl (abs=D:\date\ai_vs_ai_match_all_ids.jsonl)
[OUT] private_ids=D:\date\ai_vs_ai_match_all_private_ids.jsonl (abs=D:\date\ai_vs_ai_match_all_private_ids.jsonl)
[TARGET] 目標対戦数=800 / このワーカー予定=1
[AZ][INIT] use_mcts=0 sims=50
[AlphaZeroMCTSPolicy] loaded model from D:\alpha_zero_models\gen000\selfplay_supervised_pv_gen000.pt (obs_dim=2448, cand_dim=32, hidden_dim=128)
[AZ][ENCODER][OK] tag=online_mix.main cand_dim=32 fn=encode_action_32d fn_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py' fn_line=108 module_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py'
[AZ][ENCODER][OK] tag=online_mix.main cand_dim=32 fn=encode_action_32d fn_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py' fn_line=108 module_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py'
[POLICY_FACTORY][DEBUG][SELECT_ACTION_BINDING] tag=online_mix.main shadow=0 inst=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action cls=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action
[WHERE] online_mix.main(before_wrap) class=AlphaZeroMCTSPolicy id=1848980992256
[WHERE] online_mix.main(before_wrap).select_action_index_online callable=True
[WHERE] online_mix.main(before_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[WHERE] online_mix.main(before_wrap).select_action_index_online line=579
[WHERE] online_mix.main(before_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[WHERE] online_mix.main(after_wrap) class=AlphaZeroMCTSPolicy id=1848980992256
[WHERE] online_mix.main(after_wrap).select_action_index_online callable=True
[WHERE] online_mix.main(after_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[WHERE] online_mix.main(after_wrap).select_action_index_online line=579
[WHERE] online_mix.main(after_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[POLICY_FACTORY][DEBUG][SELECT_ACTION_BINDING] tag=online_mix.main(after_wrap) shadow=0 inst=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action cls=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action
[WHERE] online_mix.outer(before_wrap) class=OnlineMixedPolicy id=1846950775632
[WHERE] online_mix.outer(before_wrap).select_action_index_online callable=True
[WHERE] online_mix.outer(before_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\online_mixed_policy.py
[WHERE] online_mix.outer(before_wrap).select_action_index_online line=687
[WHERE] online_mix.outer(before_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\online_mixed_policy.py
[PhaseD-Q][WRAP] tag=online_mix.outer pol_id=1846950775632 class=OnlineMixedPolicy methods=select_action_index_online
[WHERE] online_mix.outer(after_wrap) class=OnlineMixedPolicy id=1846950775632
[WHERE] online_mix.outer(after_wrap).select_action_index_online callable=True
[WHERE] online_mix.outer(after_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\policy_factory.py
[WHERE] online_mix.outer(after_wrap).select_action_index_online line=712
[WHERE] online_mix.outer(after_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\online_mixed_policy.py
[POLICY] using OnlineMixedPolicy (online_mix: main=MCTS+model + PhaseD-Q, fallback=random) (sims=64, phased_q_wrapped=True, phased_q_tag=online_mix.outer)
[AZ][INIT] use_mcts=0 sims=50
[AlphaZeroMCTSPolicy] loaded model from D:\alpha_zero_models\gen000\selfplay_supervised_pv_gen000.pt (obs_dim=2448, cand_dim=32, hidden_dim=128)
[AZ][ENCODER][OK] tag=online_mix.main cand_dim=32 fn=encode_action_32d fn_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py' fn_line=108 module_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py'
[AZ][ENCODER][OK] tag=online_mix.main cand_dim=32 fn=encode_action_32d fn_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py' fn_line=108 module_file='c:\\Users\\CLIVE\\poke-pocket-sim\\config.py'
[POLICY_FACTORY][DEBUG][SELECT_ACTION_BINDING] tag=online_mix.main shadow=0 inst=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action cls=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action
[WHERE] online_mix.main(before_wrap) class=AlphaZeroMCTSPolicy id=1846950780288
[WHERE] online_mix.main(before_wrap).select_action_index_online callable=True
[WHERE] online_mix.main(before_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[WHERE] online_mix.main(before_wrap).select_action_index_online line=579
[WHERE] online_mix.main(before_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[WHERE] online_mix.main(after_wrap) class=AlphaZeroMCTSPolicy id=1846950780288
[WHERE] online_mix.main(after_wrap).select_action_index_online callable=True
[WHERE] online_mix.main(after_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[WHERE] online_mix.main(after_wrap).select_action_index_online line=579
[WHERE] online_mix.main(after_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py
[POLICY_FACTORY][DEBUG][SELECT_ACTION_BINDING] tag=online_mix.main(after_wrap) shadow=0 inst=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action cls=file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\az_mcts_policy.py line=503 name=AlphaZeroMCTSPolicy.select_action
[WHERE] online_mix.outer(before_wrap) class=OnlineMixedPolicy id=1846950782880
[WHERE] online_mix.outer(before_wrap).select_action_index_online callable=True
[WHERE] online_mix.outer(before_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\online_mixed_policy.py
[WHERE] online_mix.outer(before_wrap).select_action_index_online line=687
[WHERE] online_mix.outer(before_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\online_mixed_policy.py
[PhaseD-Q][WRAP] tag=online_mix.outer pol_id=1846950782880 class=OnlineMixedPolicy methods=select_action_index_online
[WHERE] online_mix.outer(after_wrap) class=OnlineMixedPolicy id=1846950782880
[WHERE] online_mix.outer(after_wrap).select_action_index_online callable=True
[WHERE] online_mix.outer(after_wrap).select_action_index_online file=c:\Users\CLIVE\poke-pocket-sim\policy_factory.py
[WHERE] online_mix.outer(after_wrap).select_action_index_online line=712
[WHERE] online_mix.outer(after_wrap) class file=c:\Users\CLIVE\poke-pocket-sim\pokepocketsim\policy\online_mixed_policy.py
[POLICY] using OnlineMixedPolicy (online_mix: main=MCTS+model + PhaseD-Q, fallback=random) (sims=64, phased_q_wrapped=True, phased_q_tag=online_mix.outer)

============================================================
第1戦開始（worker）
============================================================
コイントスでp1が先攻です。
[PBRS] Loaded calibration: a=9.415315, b=-0.823937 from C:\Users\CLIVE\poke-pocket-sim\data\value_calibration.json
[ENCODER] using scaler: d3rlpy_logs/run_p1\scaler.npz (full_obs_vec) exp_dim=2448
[ENCODER] match.encoder をセットしました（obs_vec を出力）
[OBSDBG] after_ensure public_state.players type=list len=2 head_type=dict ps_keys=['players', 'turn']
[OBS] ⚠️ legal actions empty; skip initial obs_vec.
---------------------------------------------------
【先攻 0ターン】バトル場とベンチをセットします
p1 の手札一覧:
雷エネルギー, シビシラス, 雷エネルギー, 雷エネルギー, ボウルタウン, チェレン, クラウン
p1 の手札にあるたねポケモン:
 1: シビシラス (HP: 40)
AI選択肢: ['1: シビシラス']
p1 はバトル場に出すたねポケモンの番号として 1（シビシラス）をランダム選択しました
p1 はバトル場に シビシラス (HP: 40) をセット
---------------------------------------------------
【後攻 0ターン】バトル場とベンチをセットします
p2 はバトル場に たねポケモンを裏向きでセット
p2 はベンチに出しませんでした
--------------------------------
[MATCH_POLICY] assign player_name=p1 branch=by_name_p1 pol_id=1846950775632 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p1 は山札から「ポケモンいれかえ」を引きました（残り山札は46枚）
----- 先攻 0ターン開始: p1 -----
p1: 山札 46 / 手札 7 / トラッシュ 0 / ベンチ 0
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=0 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=0 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=39 ok=39 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=0 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=9 name=[スタジアム] ボウルタウン を場に出す out=[9, 80001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIA\n. (truncated)")
[PhaseD Q] loaded CQL learnable from D:\date\phaseD_cql_run_p1\learnable_phaseD_cql.d3 (obs_dim=2448 action_dim=32)
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=1:1.000000,2:0.000000,0:0.000000 q_top=2:1.000000,1:0.000000,0:0.000000 mix_top=1:0.700000,2:0.300000,0:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=0 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=1 action_type=9 vec=[9, 80001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 0 cards, Points: 0) la_len=3 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 0 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
0 p1: [スタジアム] ボウルタウン を場に出す
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=0 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=0 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=5 ok=5 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=0 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 na\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=1:1.000000,2:0.000000,0:0.000000 q_top=2:1.000000,1:0.000000,0:0.000000 mix_top=1:0.700000,2:0.300000,0:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=0 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=1 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 0 cards, Points: 0) la_len=3 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 0 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
0 p1: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: エモンガ (HP: 70)  id=a25f0532…
  2: テラキオン (HP: 140)  id=f25082d0…
  3: シビシラス (HP: 40)  id=8e99cb38…
  4: シビシラス (HP: 40)  id=4a4263ac…
  5: シビシラス (HP: 40)  id=527b2326…
  6: エモンガ (HP: 70)  id=1318d950…
p1 はボウルタウンの効果で エモンガ をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=0 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=0 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=5 action=[2, 4, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=5 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=5 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:0.250000,2:0.250000,1:0.187500 q_top=3:1.000000,4:0.000000,2:0.000000 mix_top=3:0.475000,2:0.175000,1:0.131250 chosen=3:0.475000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=4 mcts_top3=2:0.250,3:0.250,0:0.188 q_top3=3:-37627.109,4:-37894.094,0:-40326.000 mix_top3=3:0.475,2:0.175,0:0.131
[DECIDE_PRE] t=0 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.087500
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=0 mix_idx=4 changed=1
0 p1: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p2 branch=by_name_p2 pol_id=1846950782880 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p2 は山札から「テラキオン (HP: 140)」を引きました（残り山札は46枚）
----- 後攻 1ターン開始: p2 -----
p2: 山札 46 / 手札 7 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=1 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=1 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]
[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=48 ok=48 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=1 forced_before=False target=[2, 6, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=4:1.000000,3:0.000000,2:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=4:1.000000,3:0.000000,2:0.000000 chosen=4:1.000000
[DECIDE_PRE] t=1 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=1 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) la_len=5 selected_idx=4 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=1 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
1 p2: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p1 branch=by_name_p1 pol_id=1846950775632 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p1 は山札から「雷エネルギー」を引きました（残り山札は44枚）
----- 先攻 2ターン開始: p1 -----
p1: 山札 44 / 手札 7 / トラッシュ 0 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=2 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=2 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=8 action=[2, 4, 1, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=8 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=8 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=6:0.203125,5:0.203125,1:0.156250 q_top=6:1.000000,7:0.000000,5:0.000000 mix_top=6:0.442187,5:0.142187,1:0.109375 chosen=6:0.442187
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=4 mcts_top3=5:0.203,6:0.203,1:0.156 q_top3=6:-37076.258,7:-37324.820,5:-39639.211 mix_top3=6:0.442,5:0.142,1:0.109
[DECIDE_PRE] t=2 player=p1 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=4 action_type=4 vec=[4, 70004, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=2 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=8 selected_idx=4 selected_p=0.065625
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=2 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=4 changed=1
2 p1: [サポーター] クラウン を使う
p1 は クラウン（サポーター）を使った
クラウン をトラッシュに送りました。id=1846950787824
p1 は残りの手札を山札に戻してシャッフルしました。
p2 も手札を山札に戻してシャッフルしました。
クラウン: コインの結果 → 裏
p1 の手札: 3 枚
p2 の新しい手札: ハイパーボール, ポケモンキャッチャー, ボウルタウン, ふうせん, チェレン
p1 は クラウン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=2 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=2 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=5 action=[2, 4, 1, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=5 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=5 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:0.265625,2:0.265625,1:0.187500 q_top=3:1.000000,4:0.000000,2:0.000000 mix_top=3:0.485937,2:0.185937,1:0.131250 chosen=3:0.485937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=3 mcts_top3=2:0.266,3:0.266,1:0.188 q_top3=3:-38809.844,4:-39131.223,2:-41172.680 mix_top3=3:0.486,2:0.186,1:0.131
[DECIDE_PRE] t=2 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=3 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 3 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=2 player=Player(p1, 手札: 3 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=5 selected_idx=3 selected_p=0.485938
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=2 player=Player(p1, 手札: 3 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=3 changed=1
2 p1: [逃げる] バトル場の (シビシラス (HP: 40))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=2 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=2 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=32 ok=32 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=2 forced_before=False target=[2, 4, 2, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_t\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=2:1.000000,3:0.000000,1:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=2:0.700000,3:0.300000,1:0.000000 chosen=2:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=3 mcts_top3=2:1.000,0:0.000,1:0.000 q_top3=3:-39131.223,2:-41172.680,0:-41506.324 mix_top3=2:0.700,3:0.300,0:0.000
[DECIDE_PRE] t=2 player=p1 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 3 cards, バトル場: [エモンガ (HP: 70)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=2 player=Player(p1, 手札: 3 cards, バトル場: [エモンガ (HP: 70)], Bench: 1 cards, Points: 0) la_len=4 selected_idx=3 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=2 player=Player(p1, 手札: 3 cards, バトル場: [エモンガ (HP: 70)], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=3 changed=1
2 p1: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p2 branch=by_name_p2 pol_id=1846950782880 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p2 は山札から「ポケモンいれかえ」を引きました（残り山札は47枚）
----- 後攻 3ターン開始: p2 -----
p2: 山札 47 / 手札 6 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=3 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=3 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=15 ok=15 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=3 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50002, 0, 0, 0], [11, 90001, 0, 0, 0], [11, 90001, 1, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=3:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=3:0.700000,5:0.300000,4:0.000000 chosen=3:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=3 mix_idx=5 mcts_top3=3:1.000,0:0.000,1:0.000 q_top3=5:-38989.430,4:-41049.094,0:-88652368.000 mix_top3=3:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=3 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=3 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=3 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) mcts_idx=3 mix_idx=5 changed=1
3 p2: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p1 branch=by_name_p1 pol_id=1846950775632 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p1 は山札から「ゼクロムex (HP: 230)」を引きました（残り山札は46枚）
----- 先攻 4ターン開始: p1 -----
p1: 山札 46 / 手札 4 / トラッシュ 1 / ベンチ 1
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=4 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=4 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=26 ok=26 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=4 forced_before=False target=[2, 4, 2, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=2:1.000000,4:0.000000,3:0.000000 q_top=3:1.000000,4:0.000000,2:0.000000 mix_top=2:0.700000,3:0.300000,4:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=4 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=2 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 4 cards, バトル場: [エモンガ (HP: 70)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=4 player=Player(p1, 手札: 4 cards, バトル場: [エモンガ (HP: 70)], Bench: 1 cards, Points: 0) la_len=5 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=4 player=Player(p1, 手札: 4 cards, バトル場: [エモンガ (HP: 70)], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
4 p1: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: シビシラス (HP: 40)  id=8e99cb38…
  2: エモンガ (HP: 70)  id=1318d950…
  3: シビシラス (HP: 40)  id=4a4263ac…
  4: シビシラス (HP: 40)  id=527b2326…
p1 はボウルタウンの効果で シビシラス をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=4 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=4 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=23 ok=23 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=4 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action acti\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=4:1.000000,3:0.000000,2:0.000000 q_top=3:1.000000,4:0.000000,2:0.000000 mix_top=4:0.700000,3:0.300000,2:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=4 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 4 cards, バトル場: [エモンガ (HP: 70)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=4 player=Player(p1, 手札: 4 cards, バトル場: [エモンガ (HP: 70)], Bench: 2 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=4 player=Player(p1, 手札: 4 cards, バトル場: [エモンガ (HP: 70)], Bench: 2 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
4 p1: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p2 branch=by_name_p2 pol_id=1846950782880 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p2 は山札から「ふうせん」を引きました（残り山札は46枚）
----- 後攻 5ターン開始: p2 -----
p2: 山札 46 / 手札 7 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=5 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=5 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=27 ok=27 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=5 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 0, 0, 0], [11, 90001, 1, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=4:1.000000,5:0.000000,3:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=4:0.700000,5:0.300000,3:0.000000 chosen=4:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=5 mcts_top3=4:1.000,0:0.000,1:0.000 q_top3=5:-38390.496,4:-40548.562,0:-88652064.000 mix_top3=4:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=5 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=5 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=5 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) mcts_idx=4 mix_idx=5 changed=1
5 p2: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p1 branch=by_name_p1 pol_id=1846950775632 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p1 は山札から「ふうせん」を引きました（残り山札は44枚）
----- 先攻 6ターン開始: p1 -----
p1: 山札 44 / 手札 5 / トラッシュ 1 / ベンチ 2
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=6 n_actions=9 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=6 n_actions=9 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=9
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=9 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=9 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=9 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=9 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=9 pi_top=5:0.156250,4:0.156250,3:0.156250 q_top=7:1.000000,8:0.000000,6:0.000000 mix_top=7:0.387500,5:0.109375,4:0.109375 chosen=7:0.387500
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=8 mix_idx=7 mcts_top3=3:0.156,4:0.156,5:0.156 q_top3=7:-37143.922,8:-37415.887,6:-39713.844 mix_top3=7:0.387,3:0.109,4:0.109
[DECIDE_PRE] t=6 player=p1 policy=OnlineMixedPolicy n_actions=9
[DECIDE_POST] idx=7 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=9
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=6 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 2 cards, Points: 0) la_len=9 selected_idx=7 selected_p=0.387500
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=6 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 2 cards, Points: 0) mcts_idx=8 mix_idx=7 changed=1
6 p1: [逃げる] バトル場の (エモンガ (HP: 70))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=6 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=6 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=5 n_actions=8 action=[11, 90001, 2, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=5 n_actions=8 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=2:0.156250,5:0.140625,4:0.140625 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=7:0.332812,2:0.109375,5:0.098437 chosen=7:0.332812
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=5 mix_idx=3 mcts_top3=2:0.156,1:0.141,3:0.141 q_top3=7:-37415.887,6:-39713.844,0:-39843.164 mix_top3=7:0.333,2:0.109,1:0.098
[DECIDE_PRE] t=6 player=p1 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=3 action_type=11 vec=[11, 90001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=6 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=8 selected_idx=3 selected_p=0.098438
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=6 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=5 mix_idx=3 changed=1
6 p1: [どうぐ] ふうせん を バトル場 の シビシラス に付ける
p1 は ふうせん（どうぐ）を シビシラス に付けた
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=6 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=6 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=45 ok=45 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=8 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=2:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=2:0.700000,4:0.300000,3:0.000000 chosen=2:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=4 mcts_top3=2:1.000,0:0.000,1:0.000 q_top3=4:-37415.887,3:-39713.844,0:-39843.164 mix_top3=2:0.700,4:0.300,0:0.000
[DECIDE_PRE] t=6 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 4 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=6 player=Player(p1, 手札: 4 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=6 player=Player(p1, 手札: 4 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=2 mix_idx=4 changed=1
6 p1: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p2 branch=by_name_p2 pol_id=1846950782880 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p2 は山札から「ハイパーボール」を引きました（残り山札は45枚）
----- 後攻 7ターン開始: p2 -----
p2: 山札 45 / 手札 8 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=7 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=7 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=17 ok=17 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=7 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=0:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=0:0.700000,5:0.300000,4:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=5 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=5:-37823.477,4:-40067.711,0:-88651776.000 mix_top3=0:0.700,5:0.300,1:0.000
[DECIDE_PRE] t=7 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=7 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=7 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) mcts_idx=0 mix_idx=5 changed=1
7 p2: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p1 branch=by_name_p1 pol_id=1846950775632 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p1 は山札から「雷エネルギー」を引きました（残り山札は43枚）
----- 先攻 8ターン開始: p1 -----
p1: 山札 43 / 手札 5 / トラッシュ 1 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=8 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=8 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=41 ok=41 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=8 forced_before=False target=[2, 4, 3, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERI\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=1:1.000000,5:0.000000,4:0.000000 q_top=4:1.000000,5:0.000000,3:0.000000 mix_top=1:0.700000,4:0.300000,5:0.000000 chosen=1:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=4 mcts_top3=1:1.000,0:0.000,2:0.000 q_top3=4:-36593.582,5:-36848.906,3:-39238.621 mix_top3=1:0.700,4:0.300,0:0.000
[DECIDE_PRE] t=8 player=p1 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=4 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=8 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=6 selected_idx=4 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=8 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=1 mix_idx=4 changed=1
8 p1: [逃げる] バトル場の (シビシラス (HP: 40))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=8 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=8 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=48 ok=48 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=10 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:1.000000,4:0.000000,2:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=3:0.700000,4:0.300000,2:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=8 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=3 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=8 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=5 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=8 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
8 p1: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: エモンガ (HP: 70)  id=1318d950…
  2: シビシラス (HP: 40)  id=8e99cb38…
  3: シビシラス (HP: 40)  id=4a4263ac…
p1 はボウルタウンの効果で エモンガ をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=8 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=8 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=5 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=5 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:0.218750,2:0.218750,1:0.218750 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=4:0.409375,3:0.153125,2:0.153125 chosen=4:0.409375
[DECIDE_PRE] t=8 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=8 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.409375
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=8 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
8 p1: [ターンエンド] 自分の番を終わる
[MATCH_POLICY] assign player_name=p2 branch=by_name_p2 pol_id=1846950782880 class=OnlineMixedPolicy phased_q_wrapped=True phased_q_tag=online_mix.outer
p2 は山札から「ゼクロムex (HP: 230)」を引きました（残り山札は44枚）
----- 後攻 9ターン開始: p2 -----
p2: 山札 44 / 手札 9 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=9 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=9 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=9 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=0:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=0:0.700000,5:0.300000,4:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=5 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=5:-37224.703,4:-39567.414,0:-88651464.000 mix_top3=0:0.700,5:0.300,1:0.000
[DECIDE_PRE] t=9 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=9 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=9 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) mcts_idx=0 mix_idx=5 changed=1
9 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「闘エネルギー」を引きました（残り山札は41枚）
----- 先攻 10ターン開始: p1 -----
p1: 山札 41 / 手札 6 / トラッシュ 1 / ベンチ 3
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=10 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=10 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=62 ok=62 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=10 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける ou\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=2:1.000000,10:0.000000,9:0.000000 q_top=9:1.000000,10:0.000000,8:0.000000 mix_top=2:0.700000,9:0.300000,10:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=10 player=p1 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=2 action_type=2 vec=[2, 4, 2, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=10 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) la_len=11 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=10 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
10 p1: [エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=10 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=10 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=3 action=[10, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=3 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=1:0.359375,2:0.328125,0:0.312500 q_top=1:1.000000,2:0.000000,0:0.000000 mix_top=1:0.551562,2:0.229687,0:0.218750 chosen=1:0.551562
[DECIDE_PRE] t=10 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=0 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=10 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) la_len=3 selected_idx=0 selected_p=0.218750
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=10 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
10 p1: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: シビシラス (HP: 40)  id=8e99cb38…
  2: シビシラス (HP: 40)  id=4a4263ac…
AIはスキップしました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=10 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=10 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=34 ok=34 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=11 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [3, 50002, 0, 0, 0], [11, 90001, 0, 0, 0], [4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジア\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=1:1.000000,0:0.000000 q_top=0:1.000000,1:0.000000 mix_top=1:0.700000,0:0.300000 chosen=1:0.700000
[DECIDE_PRE] t=10 player=p1 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=1 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=10 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) la_len=2 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=10 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
10 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は43枚）
----- 後攻 11ターン開始: p2 -----
p2: 山札 43 / 手札 10 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=11 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=11 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=21 ok=21 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=11 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[グッズ] ポケモンいれかえ を使う action_type=3 serialize=[3, 50003, 0, 0, 0]', 'type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]'] ids_sample=[[3, 50003, 0, 0, 0], [3, 50001, 0, 0, 0], [11, 90001, 0, 0, 0], [11, 90001, 1, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] typ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=0:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=0:0.700000,6:0.300000,5:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=11 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=11 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) la_len=7 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=11 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 0 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
11 p2: [エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=11 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=11 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=17 ok=17 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=11 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]'] ids_sample=[[3, 50002, 0, 0, 0], [11, 90001, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=4:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=4:0.700000,7:0.300000,6:0.000000 chosen=4:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=7 mcts_top3=4:1.000,0:0.000,1:0.000 q_top3=7:-36657.805,4:-39089.684,0:-88651184.000 mix_top3=4:0.700,7:0.300,0:0.000
[DECIDE_PRE] t=11 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 0 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=11 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 0 cards, Points: 0) la_len=8 selected_idx=7 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=11 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 0 cards, Points: 0) mcts_idx=4 mix_idx=7 changed=1
11 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「シビビール (HP: 90)」を引きました（残り山札は40枚）
----- 先攻 12ターン開始: p1 -----
p1: 山札 40 / 手札 6 / トラッシュ 1 / ベンチ 3
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=5 n_actions=11 action=[2, 6, 1, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=5 n_actions=11 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=9:0.125000,8:0.093750,7:0.093750 q_top=9:1.000000,10:0.000000,8:0.000000 mix_top=9:0.387500,8:0.065625,7:0.065625 chosen=9:0.387500
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=5 mix_idx=2 mcts_top3=9:0.125,0:0.094,1:0.094 q_top3=9:-34930.477,10:-35134.445,0:-37672.703 mix_top3=9:0.388,0:0.066,1:0.066
[DECIDE_PRE] t=12 player=p1 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=2 action_type=2 vec=[2, 4, 2, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) la_len=11 selected_idx=2 selected_p=0.065625
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) mcts_idx=5 mix_idx=2 changed=1
12 p1: [エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=11 ok=11 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=12 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=2:1.000000,1:0.000000,0:0.000000 q_top=1:1.000000,2:0.000000,0:0.000000 mix_top=2:0.700000,1:0.300000,0:0.000000 chosen=2:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=1 mcts_top3=2:1.000,0:0.000,1:0.000 q_top3=1:-34930.480,2:-35134.445,0:-37796.375 mix_top3=2:0.700,1:0.300,0:0.000
[DECIDE_PRE] t=12 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=1 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) la_len=3 selected_idx=1 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40)], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=1 changed=1
12 p1: [逃げる] バトル場の (シビシラス (HP: 40))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=8 ok=8 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=14 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=17 ids_len=17 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 6, 2, 0, 0], [2, 6, 3, 0, 0], [2, 6, 4, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=0:1.000000,1:0.000000 q_top=1:1.000000,0:0.000000 mix_top=0:0.700000,1:0.300000 chosen=0:0.700000
[DECIDE_PRE] t=12 player=p1 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=0 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=2 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
12 p1: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: シビシラス (HP: 40)  id=8e99cb38…
  2: シビシラス (HP: 40)  id=4a4263ac…
p1 はボウルタウンの効果で シビシラス をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=1 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=12 n_actions=1 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=1
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=1 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=1 pi_top=0:1.000000 q_top=0:1.000000 mix_top=0:1.000000 chosen=0:1.000000
[DECIDE_PRE] t=12 player=p1 policy=OnlineMixedPolicy n_actions=1
[DECIDE_POST] idx=0 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) base_out_type=int pi_len=1
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) la_len=1 selected_idx=0 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=12 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
12 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「シビビール (HP: 90)」を引きました（残り山札は42枚）
----- 後攻 13ターン開始: p2 -----
p2: 山札 42 / 手札 10 / トラッシュ 0 / ベンチ 0
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=3 ok=3 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 9\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=4:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=4:0.700000,7:0.300000,6:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=4 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 0 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 0 cards, Points: 0) la_len=8 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 0 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
13 p2: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: テラキオン (HP: 140)  id=246b3c69…
  2: シビシラス (HP: 40)  id=28062829…
  3: シビシラス (HP: 40)  id=3f1cba22…
  4: シビシラス (HP: 40)  id=0ca59bbd…
  5: エモンガ (HP: 70)  id=6f6562ea…
p2 はボウルタウンの効果で シビシラス をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=10 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=10 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=10
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=10 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=8 ok=8 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=8 ids_len=8 actions_sample=['type=Action name=[グッズ] ポケモンいれかえ を使う action_type=3 serialize=[3, 50003, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]'] ids_sample=[[3, 50003, 0, 0, 0], [11, 90001, 0, 0, 0], [11, 90001, 1, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=10 pi_top=6:1.000000,9:0.000000,8:0.000000 q_top=6:1.000000,9:0.000000,8:0.000000 mix_top=6:1.000000,9:0.000000,8:0.000000 chosen=6:1.000000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=10
[DECIDE_POST] idx=6 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=10
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 1 cards, Points: 0) la_len=10 selected_idx=6 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー]], Bench: 1 cards, Points: 0) mcts_idx=6 mix_idx=6 changed=0
13 p2: [逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=1 ok=1 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[グッズ] ポケモンいれかえ を使う action_type=3 serialize=[3, 50003, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50002, 0, 0, 0], [3, 50003, 0, 0, 0], [11, 90001, 0, 0, 0], [11, 90001, 1, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=5:1.000000,6:0.000000,4:0.000000 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=5:0.700000,6:0.300000,4:0.000000 chosen=5:0.700000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=5 action_type=4 vec=[4, 70005, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=7 selected_idx=5 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=5 mix_idx=5 changed=0
13 p2: [サポーター] チェレン を使う
チェレン をトラッシュに送りました。
p2 は山札から3枚引いた
p2 の新しい手札: ハイパーボール, ポケモンキャッチャー, ボウルタウン, ふうせん, ポケモンいれかえ, ふうせん, ハイパーボール, ゼクロムex (HP: 230), シビビール (HP: 90), シビシラス (HP: 40), 雷エネルギー, 雷エネルギー
p2 は チェレン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=3 ok=3 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[グッズ] ポケモンいれかえ を使う action_type=3 serialize=[3, 50003, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [3, 50003, 0, 0, 0], [11, 90001, 0, 0, 0], [11, 90001, 1, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモン\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=5:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=5:0.700000,7:0.300000,6:0.000000 chosen=5:0.700000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=5 action_type=11 vec=[11, 90001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 12 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 12 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=8 selected_idx=5 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 12 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=5 mix_idx=5 changed=0
13 p2: [どうぐ] ふうせん を バトル場 の シビシラス に付ける
p2 は ふうせん（どうぐ）を シビシラス に付けた
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [3, 50002, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=3:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=3:0.700000,6:0.300000,5:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=3 action_type=3 vec=[3, 50002, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 11 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 11 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=7 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 11 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
13 p2: [グッズ] ポケモンキャッチャー を使う
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [11, 90001, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[AC\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=1:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=1:0.700000,5:0.300000,4:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=1 action_type=2 vec=[2, 4, 1, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=6 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
13 p2: [エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=17 ok=17 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 1, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の エモンガ に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACT\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=2:1.000000,3:0.000000,1:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=2:0.700000,3:0.300000,1:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=2 action_type=11 vec=[11, 90001, 1, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=4 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
13 p2: [どうぐ] ふうせん を ベンチ1 の エモンガ に付ける
p2 は ふうせん（どうぐ）を エモンガ に付けた
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=13 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=5 ok=5 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=13 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=2:1.000000,1:0.000000,0:0.000000 q_top=2:1.000000,1:0.000000,0:0.000000 mix_top=2:1.000000,1:0.000000,0:0.000000 chosen=2:1.000000
[DECIDE_PRE] t=13 player=p2 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=2 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=3 selected_idx=2 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=13 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
13 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「闘エネルギー」を引きました（残り山札は38枚）
----- 先攻 14ターン開始: p1 -----
p1: 山札 38 / 手札 6 / トラッシュ 1 / ベンチ 4
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=14 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=14 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=55 ok=55 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=14 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=12 ids_len=12 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の エモンガ に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 6, 2, 0, 0], [2, 6, 3, 0, 0], [2, 6, 4, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ3 の シビシラス に付ける out=[2, 6, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ4 の シビシラス に付ける out=[2, 6, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の エモンガ \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=4:1.000000,12:0.000000,11:0.000000 q_top=11:1.000000,12:0.000000,10:0.000000 mix_top=4:0.700000,11:0.300000,12:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=14 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=4 action_type=2 vec=[2, 4, 4, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=14 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) la_len=13 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=14 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
14 p1: [エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=14 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=14 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=8 ok=8 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=14 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=2:1.000000,1:0.000000,0:0.000000 q_top=1:1.000000,2:0.000000,0:0.000000 mix_top=2:0.700000,1:0.300000,0:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=14 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=2 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=14 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) la_len=3 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=14 player=Player(p1, 手札: 5 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
14 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「シビビール (HP: 90)」を引きました（残り山札は37枚）
----- 後攻 15ターン開始: p2 -----
p2: 山札 37 / 手札 9 / トラッシュ 2 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=17 ok=17 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=15 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[グッズ] ポケモンいれかえ を使う action_type=3 serialize=[3, 50003, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50003, 0, 0, 0], [10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=1:1.000000,6:0.000000,5:0.000000 q_top=5:1.000000,6:0.000000,4:0.000000 mix_top=1:0.700000,5:0.300000,6:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=15 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=1 action_type=2 vec=[2, 4, 1, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=7 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
15 p2: [エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=13 ok=13 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=15 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×3]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] t\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:1.000000,4:0.000000,2:0.000000 q_top=3:1.000000,4:0.000000,2:0.000000 mix_top=3:1.000000,4:0.000000,2:0.000000 chosen=3:1.000000
[DECIDE_PRE] t=15 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=3 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=5 selected_idx=3 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
15 p2: [逃げる] バトル場の (シビシラス (HP: 40))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=15 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_typ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=1:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=1:0.700000,5:0.300000,4:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=15 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=1 action_type=3 vec=[3, 50003, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=6 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
15 p2: [グッズ] ポケモンいれかえ を使う
AIはベンチ0（シビシラス）を選択
エモンガ と シビシラス を入れ替えた！
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=15 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=8 ok=8 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=15 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=1:1.000000,2:0.000000,0:0.000000 q_top=2:1.000000,1:0.000000,0:0.000000 mix_top=1:0.700000,2:0.300000,0:0.000000 chosen=1:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=2 mcts_top3=1:1.000,0:0.000,2:0.000 q_top3=2:-33173.988,1:-36144.641,0:-88649304.000 mix_top3=1:0.700,2:0.300,0:0.000
[DECIDE_PRE] t=15 player=p2 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=2 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=3 selected_idx=2 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=15 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=2 changed=1
15 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「雷エネルギー」を引きました（残り山札は37枚）
----- 先攻 16ターン開始: p1 -----
p1: 山札 37 / 手札 6 / トラッシュ 1 / ベンチ 4
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=16 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=16 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=13 action=[2, 6, 2, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=13 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=8:0.109375,7:0.109375,6:0.109375 q_top=11:1.000000,12:0.000000,10:0.000000 mix_top=11:0.365625,8:0.076562,7:0.076562 chosen=11:0.365625
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=11 mcts_top3=5:0.109,6:0.109,7:0.109 q_top3=11:-33213.879,12:-33299.312,5:-35971.828 mix_top3=11:0.366,5:0.077,6:0.077
[DECIDE_PRE] t=16 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=11 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=16 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) la_len=13 selected_idx=11 selected_p=0.365625
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=16 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 4 cards, Points: 0) mcts_idx=2 mix_idx=11 changed=1
16 p1: [逃げる] バトル場の (エモンガ (HP: 70))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=16 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=16 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=9 n_actions=12 action=[2, 4, 4, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=9 n_actions=12 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=10:0.156250,9:0.093750,1:0.093750 q_top=11:1.000000,10:0.000000,9:0.000000 mix_top=11:0.321875,10:0.109375,9:0.065625 chosen=11:0.321875
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=9 mix_idx=11 mcts_top3=10:0.156,1:0.094,9:0.094 q_top3=11:-33299.312,5:-35971.828,10:-36272.062 mix_top3=11:0.322,10:0.109,1:0.066
[DECIDE_PRE] t=16 player=p1 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=11 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 4 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=16 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 4 cards, Points: 0) la_len=12 selected_idx=11 selected_p=0.321875
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=16 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 4 cards, Points: 0) mcts_idx=9 mix_idx=11 changed=1
16 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「テラキオン (HP: 140)」を引きました（残り山札は36枚）
----- 後攻 17ターン開始: p2 -----
p2: 山札 36 / 手札 8 / トラッシュ 3 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=1 ok=1 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=17 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_t\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=2:1.000000,3:0.000000,1:0.000000 q_top=2:1.000000,3:0.000000,1:0.000000 mix_top=2:1.000000,3:0.000000,1:0.000000 chosen=2:1.000000
[DECIDE_PRE] t=17 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=2 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=4 selected_idx=2 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
17 p2: [逃げる] バトル場の (シビシラス (HP: 40))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=1 ok=1 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=17 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=0:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=0:0.700000,4:0.300000,3:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=17 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=5 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
17 p2: [グッズ] ハイパーボール を使う
ゼクロムex (HP: 230)をトラッシュしました
テラキオン (HP: 140)をトラッシュしました
シビビール (HP: 90)を手札に加えました
山札をシャッフルしました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=3 n_actions=5 action=[6, 100007, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=3 n_actions=5 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=5 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=4:0.234375,3:0.203125,2:0.187500 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=4:0.464062,3:0.142187,2:0.131250 chosen=4:0.464062
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=3 mix_idx=0 mcts_top3=4:0.234,3:0.203,0:0.188 q_top3=4:-32032.195,1:-35177.328,0:-88648696.000 mix_top3=4:0.464,3:0.142,0:0.131
[DECIDE_PRE] t=17 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=5 selected_idx=0 selected_p=0.131250
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=3 mix_idx=0 changed=1
17 p2: [グッズ] ハイパーボール を使う
シビビール (HP: 90)をトラッシュしました
シビシラス (HP: 40)をトラッシュしました
エモンガ (HP: 70)を手札に加えました
山札をシャッフルしました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=17 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=34 ok=34 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=19 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70002, 0, 0, 0], [10, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=0:1.000000,3:0.000000,2:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=0:0.700000,3:0.300000,2:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=3 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=3:-31451.725,0:-34684.367,2:-177287904.000 mix_top3=0:0.700,3:0.300,1:0.000
[DECIDE_PRE] t=17 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 4 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 4 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=4 selected_idx=3 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=17 player=Player(p2, 手札: 4 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=0 mix_idx=3 changed=1
17 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「シビビール (HP: 90)」を引きました（残り山札は36枚）
----- 先攻 18ターン開始: p1 -----
p1: 山札 36 / 手札 7 / トラッシュ 1 / ベンチ 4
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=7 n_actions=13 action=[2, 4, 2, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=7 n_actions=13 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=10:0.109375,7:0.109375,6:0.109375 q_top=11:1.000000,12:0.000000,10:0.000000 mix_top=11:0.365625,10:0.076562,7:0.076562 chosen=11:0.365625
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=7 mix_idx=10 mcts_top3=6:0.109,7:0.109,10:0.109 q_top3=11:-32639.424,12:-32676.658,5:-35400.562 mix_top3=11:0.366,6:0.077,7:0.077
[DECIDE_PRE] t=18 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=10 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 4 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 4 cards, Points: 0) la_len=13 selected_idx=10 selected_p=0.076563
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 4 cards, Points: 0) mcts_idx=7 mix_idx=10 changed=1
18 p1: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: シビシラス (HP: 40)  id=8e99cb38…
p1 はボウルタウンの効果で シビシラス をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=14 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=14 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=14
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=14 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=57 ok=57 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=18 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ3 の シビシラス に付ける out=[2, 6, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ4 の エモンガ に付ける out=[2, 6, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ5 の シビシラス に付ける out=[2, 6, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ3 の シビシラス に付ける out=[2, 6, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ4 の エモンガ に付ける out=[2, 6, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ5 の シビシラス に付ける out=[2, 6, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=14 pi_top=5:1.000000,13:0.000000,12:0.000000 q_top=12:0.999871,13:0.000129,11:0.000000 mix_top=5:0.700000,12:0.299961,13:0.000039 chosen=5:0.700000
[DECIDE_PRE] t=18 player=p1 policy=OnlineMixedPolicy n_actions=14
[DECIDE_POST] idx=5 action_type=2 vec=[2, 6, 5, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=14
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 5 cards, Points: 0) la_len=14 selected_idx=5 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 5 cards, Points: 0) mcts_idx=5 mix_idx=5 changed=0
18 p1: [エネルギー] 闘エネルギー を ベンチ5 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=31 ok=31 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=20 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=14 ids_len=14 actions_sample=['type=Action name=[エネルギー] 闘エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 6, 0, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 6, 1, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 6, 2, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ3 の エモンガ に付ける action_type=2 serialize=[2, 6, 3, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 6, 4, 0, 0]'] ids_sample=[[2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 6, 2, 0, 0], [2, 6, 3, 0, 0], [2, 6, 4, 0, 0], [2, 6, 5, 0, 0], [2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0,\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=1:1.000000,0:0.000000 q_top=0:0.999871,1:0.000129 mix_top=1:0.700039,0:0.299961 chosen=1:0.700039
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=0 mcts_top3=1:1.000,0:0.000 q_top3=0:-32087.277,1:-32096.232 mix_top3=1:0.700,0:0.300
[DECIDE_PRE] t=18 player=p1 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=0 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 5 cards, Points: 0) la_len=2 selected_idx=0 selected_p=0.299961
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=0 changed=1
18 p1: [逃げる] バトル場の (シビシラス (HP: 40))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=18 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=2 action=[6, 100001, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=2 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=1:0.671875,0:0.328125 q_top=1:1.000000,0:0.000000 mix_top=1:0.770312,0:0.229687 chosen=1:0.770312
[DECIDE_PRE] t=18 player=p1 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=0 action_type=6 vec=[6, 100001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=2 selected_idx=0 selected_p=0.229688
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=18 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
18 p1: [ワザ宣言] シビシラス の じっとする
p2 は山札から「ゼクロムex (HP: 230)」を引きました（残り山札は33枚）
----- 後攻 19ターン開始: p2 -----
p2: 山札 33 / 手札 5 / トラッシュ 9 / ベンチ 1
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=19 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=19 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=34 ok=34 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=21 forced_before=False target=[11, 90001, 2, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×3]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:1.000000,4:0.000000,2:0.000000 q_top=4:1.000000,1:0.000000,3:0.000000 mix_top=3:0.700000,4:0.300000,1:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=19 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=3 action_type=6 vec=[6, 100007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 5 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=19 player=Player(p2, 手札: 5 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=5 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=19 player=Player(p2, 手札: 5 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
19 p2: [ワザ宣言] エモンガ の バチバチ
p1 は山札から「闘エネルギー」を引きました（残り山札は34枚）
----- 先攻 20ターン開始: p1 -----
p1: 山札 34 / 手札 7 / トラッシュ 1 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=20 n_actions=15 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=20 n_actions=15 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=15
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=15 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=15 action=[2, 6, 2, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=15 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=15 pi_top=12:0.093750,11:0.078125,10:0.078125 q_top=14:1.000000,12:0.000000,13:0.000000 mix_top=14:0.310937,12:0.065625,11:0.054688 chosen=14:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=5 mcts_top3=12:0.094,0:0.078,1:0.078 q_top3=14:-31535.203,12:-31554.791,6:-34313.301 mix_top3=14:0.311,12:0.066,0:0.055
[DECIDE_PRE] t=20 player=p1 policy=OnlineMixedPolicy n_actions=15
[DECIDE_POST] idx=5 action_type=2 vec=[2, 6, 5, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=15
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=20 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=15 selected_idx=5 selected_p=0.043750
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=20 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=5 changed=1
20 p1: [エネルギー] 闘エネルギー を ベンチ5 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=20 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=20 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=52 ok=52 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=22 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=15 ids_len=15 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 6, 2, 0, 0], [2, 6, 3, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action actio\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=0:1.000000,2:0.000000,1:0.000000 q_top=2:1.000000,0:0.000000,1:0.000000 mix_top=0:0.700000,2:0.300000,1:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=2 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=2:-31535.203,0:-31554.791,1:-177277440.000 mix_top3=0:0.700,2:0.300,1:0.000
[DECIDE_PRE] t=20 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=2 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=20 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=3 selected_idx=2 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=20 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=2 changed=1
20 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は32枚）
----- 後攻 21ターン開始: p2 -----
p2: 山札 32 / 手札 6 / トラッシュ 9 / ベンチ 1
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=21 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=21 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=3 n_actions=7 action=[5, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=3 n_actions=7 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=7 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=3:0.234375,2:0.171875,1:0.156250 q_top=6:1.000000,3:0.000000,5:0.000000 mix_top=6:0.376562,3:0.164062,2:0.120312 chosen=6:0.376562
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=3 mix_idx=6 mcts_top3=3:0.234,2:0.172,0:0.156 q_top3=6:-30298.426,3:-30352.324,0:-33088.102 mix_top3=6:0.377,3:0.164,2:0.120
[DECIDE_PRE] t=21 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=6 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=21 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=7 selected_idx=6 selected_p=0.376563
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=21 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=3 mix_idx=6 changed=1
21 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ボスの指令」を引きました（残り山札は33枚）
----- 先攻 22ターン開始: p1 -----
p1: 山札 33 / 手札 7 / トラッシュ 1 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=22 n_actions=16 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=22 n_actions=16 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=16
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=16 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=16 action=[2, 4, 2, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=16 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=16 pi_top=13:0.093750,3:0.078125,2:0.078125 q_top=15:1.000000,13:0.000000,14:0.000000 mix_top=15:0.310937,13:0.065625,3:0.054688 chosen=15:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=15 mcts_top3=13:0.094,0:0.078,1:0.078 q_top3=15:-30974.195,13:-31023.943,0:-33781.219 mix_top3=15:0.311,13:0.066,0:0.055
[DECIDE_PRE] t=22 player=p1 policy=OnlineMixedPolicy n_actions=16
[DECIDE_POST] idx=15 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=16
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=22 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=16 selected_idx=15 selected_p=0.310937
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=22 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=15 changed=1
22 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は31枚）
----- 後攻 23ターン開始: p2 -----
p2: 山札 31 / 手札 7 / トラッシュ 9 / ベンチ 1
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=23 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=23 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=53 ok=53 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=25 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action act\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=0:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,3:0.000000,5:0.000000 mix_top=0:0.700000,6:0.300000,3:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=23 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=23 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) la_len=7 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=23 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×3]], Bench: 1 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
23 p2: [エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=23 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=23 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=5 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=5 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=5 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=1:0.296875,0:0.250000,4:0.187500 q_top=4:1.000000,1:0.000000,3:0.000000 mix_top=4:0.431250,1:0.207812,0:0.175000 chosen=4:0.431250
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=1 mcts_top3=1:0.297,0:0.250,4:0.188 q_top3=4:-29740.172,1:-29824.488,0:-33288.797 mix_top3=4:0.431,1:0.208,0:0.175
[DECIDE_PRE] t=23 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=1 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×4]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=23 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×4]], Bench: 1 cards, Points: 0) la_len=5 selected_idx=1 selected_p=0.207813
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=23 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×4]], Bench: 1 cards, Points: 0) mcts_idx=4 mix_idx=1 changed=1
23 p2: [逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×4])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=23 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=23 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=54 ok=54 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=25 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=1:1.000000,0:0.000000 q_top=1:1.000000,0:0.000000 mix_top=1:1.000000,0:0.000000 chosen=1:1.000000
[DECIDE_PRE] t=23 player=p2 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=1 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=23 player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=2 selected_idx=1 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=23 player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
23 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「マコモ」を引きました（残り山札は32枚）
----- 先攻 24ターン開始: p1 -----
p1: 山札 32 / 手札 8 / トラッシュ 1 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=24 n_actions=17 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=24 n_actions=17 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=17
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=17 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=17 action=[2, 4, 4, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=17 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=17 pi_top=0:0.078125,1:0.078125,2:0.078125 q_top=16:1.000000,14:0.000000,7:0.000000 mix_top=16:0.310937,2:0.054688,1:0.054688 chosen=16:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=3 mcts_top3=0:0.078,1:0.078,2:0.078 q_top3=16:-30414.688,14:-30494.652,0:-33249.348 mix_top3=16:0.311,0:0.055,1:0.055
[DECIDE_PRE] t=24 player=p1 policy=OnlineMixedPolicy n_actions=17
[DECIDE_POST] idx=3 action_type=2 vec=[2, 4, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=17
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=24 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=17 selected_idx=3 selected_p=0.043750
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=24 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=4 mix_idx=3 changed=1
24 p1: [エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=24 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=24 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=20 ok=20 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=24 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[AC\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=4:1.000000,3:0.000000,2:0.000000 q_top=4:1.000000,2:0.000000,3:0.000000 mix_top=4:1.000000,2:0.000000,3:0.000000 chosen=4:1.000000
[DECIDE_PRE] t=24 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=24 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=5 selected_idx=4 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=24 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
24 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「ポケモンキャッチャー」を引きました（残り山札は30枚）
----- 後攻 25ターン開始: p2 -----
p2: 山札 30 / 手札 7 / トラッシュ 9 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=25 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=25 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=51 ok=51 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=25 forced_before=False target=[2, 4, 2, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [3, 50002, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウン\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=5:1.000000,4:0.000000,3:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=5:1.000000,4:0.000000,3:0.000000 chosen=5:1.000000
[DECIDE_PRE] t=25 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=25 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=6 selected_idx=5 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=25 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=5 mix_idx=5 changed=0
25 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ボウルタウン」を引きました（残り山札は31枚）
----- 先攻 26ターン開始: p1 -----
p1: 山札 31 / 手札 8 / トラッシュ 1 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=26 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=26 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=11 action=[2, 6, 4, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=11 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=8:0.187500,3:0.109375,2:0.109375 q_top=10:1.000000,8:0.000000,9:0.000000 mix_top=10:0.321875,8:0.131250,3:0.076562 chosen=10:0.321875
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=2 mcts_top3=8:0.188,0:0.109,1:0.109 q_top3=10:-29858.746,8:-29968.148,0:-35072.305 mix_top3=10:0.322,8:0.131,0:0.077
[DECIDE_PRE] t=26 player=p1 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=2 action_type=2 vec=[2, 6, 2, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=26 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=11 selected_idx=2 selected_p=0.076563
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=26 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=4 mix_idx=2 changed=1
26 p1: [エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=26 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=26 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=8 ok=8 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=26 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[サポーター] マコモ を使う action_type=4 serialize=[4, 70007, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70002, 0, 0, 0], [4, 70007, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTI\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=1:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,2:0.000000,3:0.000000 mix_top=1:0.700000,4:0.300000,2:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=26 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=1 action_type=4 vec=[4, 70007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=26 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=5 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=26 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
26 p1: [サポーター] マコモ を使う

[DEBUG] マコモ使用前: damaged_targets=1 / hand=7 deck=31 trash=1
マコモ をトラッシュに送りました。
シビシラス (HP: 20) のHPを40回復（20→40）
p1 のバトル場とベンチのポケモン全員のHPを40回復した
[DEBUG] マコモ使用後: hand=6 deck=31 trash=2
p1 は マコモ（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=26 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=26 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=4 ok=4 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=26 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×2]) out=[5, 0, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=2:1.000000,1:0.000000,0:0.000000 q_top=2:1.000000,0:0.000000,1:0.000000 mix_top=2:1.000000,0:0.000000,1:0.000000 chosen=2:1.000000
[DECIDE_PRE] t=26 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=2 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=26 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=3 selected_idx=2 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=26 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
26 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は29枚）
----- 後攻 27ターン開始: p2 -----
p2: 山札 29 / 手札 8 / トラッシュ 9 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=27 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=27 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=50 ok=50 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=27 forced_before=False target=[2, 4, 2, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [3, 50002, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=4:1.000000,5:0.000000,3:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=4:0.700000,5:0.300000,3:0.000000 chosen=4:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=5 mcts_top3=4:1.000,0:0.000,1:0.000 q_top3=5:-28625.848,4:-28780.521,0:-31506.193 mix_top3=4:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=27 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=27 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=27 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=4 mix_idx=5 changed=1
27 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「雷エネルギー」を引きました（残り山札は30枚）
----- 先攻 28ターン開始: p1 -----
p1: 山札 30 / 手札 7 / トラッシュ 2 / ベンチ 5
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=28 n_actions=10 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=28 n_actions=10 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=10
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=10 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=63 ok=63 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=28 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70002, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=10 pi_top=2:1.000000,9:0.000000,8:0.000000 q_top=9:1.000000,7:0.000000,8:0.000000 mix_top=2:0.700000,9:0.300000,7:0.000000 chosen=2:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=9 mcts_top3=2:1.000,0:0.000,1:0.000 q_top3=9:-29303.936,7:-29449.320,0:-32189.422 mix_top3=2:0.700,9:0.300,0:0.000
[DECIDE_PRE] t=28 player=p1 policy=OnlineMixedPolicy n_actions=10
[DECIDE_POST] idx=9 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=10
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=28 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=10 selected_idx=9 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=28 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=9 changed=1
28 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「ゼクロムex (HP: 230)」を引きました（残り山札は28枚）
----- 後攻 29ターン開始: p2 -----
p2: 山札 28 / 手札 9 / トラッシュ 9 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=29 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=29 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=56 ok=56 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=29 forced_before=False target=[2, 4, 2, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [3, 50002, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=2:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=2:0.700000,5:0.300000,4:0.000000 chosen=2:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=5 mcts_top3=2:1.000,0:0.000,1:0.000 q_top3=5:-28070.314,4:-28269.875,0:-30985.732 mix_top3=2:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=29 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=29 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=29 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=5 changed=1
29 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「チェレン」を引きました（残り山札は29枚）
----- 先攻 30ターン開始: p1 -----
p1: 山札 29 / 手札 8 / トラッシュ 2 / ベンチ 5
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=30 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=30 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=20 ok=20 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=30 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=9 ids_len=9 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [4, 70002, 0, 0, 0], [4, 70005, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=A\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=1:1.000000,10:0.000000,9:0.000000 q_top=10:1.000000,8:0.000000,9:0.000000 mix_top=1:0.700000,10:0.300000,8:0.000000 chosen=1:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=10 mcts_top3=1:1.000,0:0.000,2:0.000 q_top3=10:-28753.916,8:-28939.230,0:-31663.582 mix_top3=1:0.700,10:0.300,0:0.000
[DECIDE_PRE] t=30 player=p1 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=10 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=30 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=11 selected_idx=10 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=30 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=10 changed=1
30 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「ポケモンいれかえ」を引きました（残り山札は27枚）
----- 後攻 31ターン開始: p2 -----
p2: 山札 27 / 手札 10 / トラッシュ 9 / ベンチ 1
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=31 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=31 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=7 action=[10, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=7 pi_from=az_pi
[ONLINE_MIX][PI] kind=main pi_ok from=None n=7 policy=AlphaZeroMCTSPolicy
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=0:0.203125,5:0.187500,6:0.140625 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=6:0.398438,0:0.142187,5:0.131250 chosen=6:0.398438
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=0 mcts_top3=0:0.203,5:0.188,6:0.141 q_top3=6:-27520.617,5:-27767.246,0:-30491.426 mix_top3=6:0.398,0:0.142,5:0.131
[DECIDE_PRE] t=31 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=31 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) la_len=7 selected_idx=0 selected_p=0.142188
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=31 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40)], Bench: 1 cards, Points: 0) mcts_idx=4 mix_idx=0 changed=1
31 p2: [エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=31 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=31 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=6 action=[10, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=6 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=2:0.203125,3:0.187500,0:0.171875 q_top=5:1.000000,3:0.000000,4:0.000000 mix_top=5:0.398438,2:0.142187,3:0.131250 chosen=5:0.398438
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=4 mcts_top3=2:0.203,3:0.188,0:0.172 q_top3=5:-27520.613,3:-27767.246,2:-31605.020 mix_top3=5:0.398,2:0.142,3:0.131
[DECIDE_PRE] t=31 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=4 action_type=6 vec=[6, 100001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=31 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 1 cards, Points: 0) la_len=6 selected_idx=4 selected_p=0.098438
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=31 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 1 cards, Points: 0) mcts_idx=2 mix_idx=4 changed=1
31 p2: [ワザ宣言] シビシラス の じっとする
p1 は山札から「ボスの指令」を引きました（残り山札は28枚）
----- 先攻 32ターン開始: p1 -----
p1: 山札 28 / 手札 9 / トラッシュ 2 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=6 n_actions=11 action=[4, 70002, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=6 n_actions=11 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=8:0.187500,7:0.156250,6:0.156250 q_top=10:1.000000,8:0.000000,9:0.000000 mix_top=10:0.310937,8:0.131250,7:0.109375 chosen=10:0.310937
[DECIDE_PRE] t=32 player=p1 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=6 action_type=4 vec=[4, 70002, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 9 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 9 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=11 selected_idx=6 selected_p=0.109375
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 9 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=6 mix_idx=6 changed=0
32 p1: [サポーター] ボスの指令 を使う
ボスの指令 をトラッシュに送りました。
AIは相手のベンチ0（エモンガ）を選択
相手の シビシラス と エモンガ を入れ替えた！
p1 は ボスの指令（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=9 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=9 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=9
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=9 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=44 ok=44 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=32 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×2]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5,\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=9 pi_top=0:1.000000,8:0.000000,7:0.000000 q_top=8:1.000000,6:0.000000,7:0.000000 mix_top=0:0.700000,8:0.300000,6:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=32 player=p1 policy=OnlineMixedPolicy n_actions=9
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=9
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) la_len=9 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×2]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
32 p1: [エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=3 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=3 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=3
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=3 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=19 ok=19 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=32 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3]) out=[5, 0, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=3 pi_top=0:1.000000,2:0.000000,1:0.000000 q_top=2:1.000000,0:0.000000,1:0.000000 mix_top=0:0.700000,2:0.300000,1:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=32 player=p1 policy=OnlineMixedPolicy n_actions=3
[DECIDE_POST] idx=0 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=3
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3]], Bench: 5 cards, Points: 0) la_len=3 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
32 p1: [逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=32 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=57 ok=57 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=34 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [4, 70002, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×4]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Acti\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=1:1.000000,0:0.000000 q_top=1:1.000000,0:0.000000 mix_top=1:1.000000,0:0.000000 chosen=1:1.000000
[DECIDE_PRE] t=32 player=p1 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=1 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) la_len=2 selected_idx=1 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=32 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
32 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「クラウン」を引きました（残り山札は26枚）
----- 後攻 33ターン開始: p2 -----
p2: 山札 26 / 手札 10 / トラッシュ 9 / ベンチ 1
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=10 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=10 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=10
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=10 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=58 ok=58 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=33 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=8 ids_len=8 actions_sample=['type=Action name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 6, 0, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 6, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]'] ids_sample=[[2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [3, 50001, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×4]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける ou\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=10 pi_top=0:1.000000,9:0.000000,8:0.000000 q_top=9:1.000000,6:0.000000,8:0.000000 mix_top=0:0.700000,9:0.300000,6:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=10
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×4]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=10
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×4]], Bench: 1 cards, Points: 0) la_len=10 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×4]], Bench: 1 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
33 p2: [エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=17 ok=17 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=33 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×5]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[10, 0, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×5]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×5]) out=[5, 0, 0,\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=4:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,4:0.000000,6:0.000000 mix_top=4:0.700000,7:0.300000,6:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=4 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×5]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×5]], Bench: 1 cards, Points: 0) la_len=8 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×5]], Bench: 1 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
33 p2: [逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×5])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=11 ok=11 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=33 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[グッズ] ポケモンいれかえ を使う action_type=3 serialize=[3, 50003, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50003, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=3:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=3:0.700000,5:0.300000,4:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=3 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 1 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 1 cards, Points: 0) la_len=6 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 1 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
33 p2: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: シビシラス (HP: 40)  id=3f1cba22…
p2 はボウルタウンの効果で シビシラス をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=14 ok=14 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=33 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[グッズ] ポケモンキャッチャー を使う action_type=3 serialize=[3, 50002, 0, 0, 0]', 'type=Action name=[サポーター] クラウン を使う action_type=4 serialize=[4, 70004, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50002, 0, 0, 0], [4, 70004, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=0:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=0:0.700000,4:0.300000,3:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50002, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 2 cards, Points: 0) la_len=5 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
33 p2: [グッズ] ポケモンキャッチャー を使う
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=37 ok=37 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=35 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=0:1.000000,3:0.000000,2:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=0:0.700000,3:0.300000,2:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50003, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 2 cards, Points: 0) la_len=4 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
33 p2: [グッズ] ポケモンいれかえ を使う
AIはベンチ1（シビシラス）を選択
シビシラス と シビシラス を入れ替えた！
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=13 ok=13 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=34 forced_before=False target=[2, 4, 0, 0, 0] cache_ok=False actions_len=11 ids_len=11 actions_sample=['type=Action name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 6, 0, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 6, 1, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 6, 2, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ3 の エモンガ に付ける action_type=2 serialize=[2, 6, 3, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 6, 4, 0, 0]'] ids_sample=[[2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 6, 2, 0, 0], [2, 6, 3, 0, 0], [2, 6, 4, 0, 0], [2, 6, 5, 0, 0], [3, 50001, 0, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] クラウン を使う out=[4, 70004, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ3 の エモンガ に付ける out=[2, 6, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=0:1.000000,1:0.000000 q_top=1:1.000000,0:0.000000 mix_top=0:0.700000,1:0.300000 chosen=0:0.700000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=0 action_type=4 vec=[4, 70004, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=2 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
33 p2: [サポーター] クラウン を使う
p2 は クラウン（サポーター）を使った
クラウン をトラッシュに送りました。id=1847223787168
p2 は残りの手札を山札に戻してシャッフルしました。
p1 も手札を山札に戻してシャッフルしました。
クラウン: コインの結果 → 裏
p2 の手札: 3 枚
p1 の新しい手札: ポケモンいれかえ, チェレン, 雷エネルギー, 闘エネルギー, 雷エネルギー
p2 は クラウン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=1 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=33 n_actions=1 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=1
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=1 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=1 pi_top=0:1.000000 q_top=0:1.000000 mix_top=0:1.000000 chosen=0:1.000000
[DECIDE_PRE] t=33 player=p2 policy=OnlineMixedPolicy n_actions=1
[DECIDE_POST] idx=0 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 3 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=1
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 3 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=1 selected_idx=0 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=33 player=Player(p2, 手札: 3 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
33 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「闘エネルギー」を引きました（残り山札は29枚）
----- 先攻 34ターン開始: p1 -----
p1: 山札 29 / 手札 6 / トラッシュ 3 / ベンチ 5
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=34 n_actions=17 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=34 n_actions=17 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=17
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=17 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=10 n_actions=17 action=[2, 6, 4, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=10 n_actions=17 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=17 pi_top=13:0.093750,8:0.062500,7:0.062500 q_top=16:1.000000,14:0.000000,7:0.000000 mix_top=16:0.310937,13:0.065625,7:0.043750 chosen=16:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=10 mix_idx=2 mcts_top3=13:0.094,0:0.062,1:0.062 q_top3=16:-28871.793,14:-29042.400,0:-31746.133 mix_top3=16:0.311,13:0.066,0:0.044
[DECIDE_PRE] t=34 player=p1 policy=OnlineMixedPolicy n_actions=17
[DECIDE_POST] idx=2 action_type=2 vec=[2, 4, 2, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=17
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=34 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) la_len=17 selected_idx=2 selected_p=0.043750
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=34 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=10 mix_idx=2 changed=1
34 p1: [エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=34 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=34 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=17 ok=17 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=34 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=A\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:1.000000,4:0.000000,2:0.000000 q_top=4:1.000000,2:0.000000,3:0.000000 mix_top=3:0.700000,4:0.300000,2:0.000000 chosen=3:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=3 mix_idx=4 mcts_top3=3:1.000,0:0.000,1:0.000 q_top3=4:-28871.793,2:-29042.400,0:-88650752.000 mix_top3=3:0.700,4:0.300,0:0.000
[DECIDE_PRE] t=34 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=34 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=34 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=4 changed=1
34 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「シビビール (HP: 90)」を引きました（残り山札は27枚）
----- 後攻 35ターン開始: p2 -----
p2: 山札 27 / 手札 4 / トラッシュ 12 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=35 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=35 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=39 ok=39 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=35 forced_before=False target=[11, 90001, 0, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 6, 0, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 6, 1, 0, 0]', 'type=Action name=[エネルギー] 闘エネルギー を ベンチ2 の エモンガ に付ける action_type=2 serialize=[2, 6, 2, 0, 0]', 'type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]'] ids_sample=[[2, 6, 0, 0, 0], [2, 6, 1, 0, 0], [2, 6, 2, 0, 0], [11, 90001, 1, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 700\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=0:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=0:0.700000,7:0.300000,6:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=35 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=0 action_type=2 vec=[2, 6, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 4 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=35 player=Player(p2, 手札: 4 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) la_len=8 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=35 player=Player(p2, 手札: 4 cards, バトル場: [シビシラス (HP: 40)], Bench: 2 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
35 p2: [エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=35 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=35 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=27 ok=27 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=35 forced_before=False target=[11, 90001, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 1, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_S\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=1:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,3:0.000000,4:0.000000 mix_top=1:0.700000,5:0.300000,3:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=35 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=1 action_type=4 vec=[4, 70005, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 3 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=35 player=Player(p2, 手札: 3 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=6 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=35 player=Player(p2, 手札: 3 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
35 p2: [サポーター] チェレン を使う
チェレン をトラッシュに送りました。
p2 は山札から3枚引いた
p2 の新しい手札: ボスの指令, シビビール (HP: 90), ポケモンいれかえ, ふうせん, チェレン
p2 は チェレン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=35 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=35 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=12 ok=12 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=35 forced_before=False target=[11, 90001, 1, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=4:1.000000,5:0.000000,3:0.000000 q_top=5:1.000000,3:0.000000,4:0.000000 mix_top=4:0.700000,5:0.300000,3:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=35 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=4 action_type=6 vec=[6, 100001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=35 player=Player(p2, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=6 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=35 player=Player(p2, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
35 p2: [ワザ宣言] シビシラス の じっとする
p1 は山札から「ハイパーボール」を引きました（残り山札は28枚）
----- 先攻 36ターン開始: p1 -----
p1: 山札 28 / 手札 6 / トラッシュ 3 / ベンチ 5
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=18 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=18 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=18
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=18 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=14 ok=14 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=36 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー, 雷エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シビシラス に付ける out=[2, 6, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ1 の エモンガ に付ける out=[2, 6, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける out=[2, 6, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ3 の エモンガ に付ける out=[2, 6, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ4 の シビシラス に付ける out=[2, 6, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を ベンチ5 の シビシラス に付ける out=[2, 6, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 闘エネルギー を バトル場 の シ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=18 pi_top=3:1.000000,17:0.000000,16:0.000000 q_top=17:1.000000,15:0.000000,7:0.000000 mix_top=3:0.700000,17:0.300000,15:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=36 player=p1 policy=OnlineMixedPolicy n_actions=18
[DECIDE_POST] idx=3 action_type=2 vec=[2, 6, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=18
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) la_len=18 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
36 p1: [エネルギー] 闘エネルギー を ベンチ3 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=1 ok=1 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=36 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIAL\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=2:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,3:0.000000,4:0.000000 mix_top=2:0.700000,5:0.300000,3:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=36 player=p1 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=2 action_type=4 vec=[4, 70005, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) la_len=6 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 5 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
36 p1: [サポーター] チェレン を使う
チェレン をトラッシュに送りました。
p1 は山札から3枚引いた
p1 の新しい手札: ポケモンいれかえ, 雷エネルギー, 闘エネルギー, ハイパーボール, シビビール (HP: 90), マコモ, ゼクロムex (HP: 230)
p1 は チェレン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=22 ok=22 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=36 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 1\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=2:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,2:0.000000,3:0.000000 mix_top=2:0.700000,4:0.300000,3:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=36 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=2 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) la_len=5 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
36 p1: [逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=15 ok=15 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=36 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターン\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=0:1.000000,3:0.000000,2:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=0:0.700000,3:0.300000,2:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=36 player=p1 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50003, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=4 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×2, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
36 p1: [グッズ] ポケモンいれかえ を使う
AIはベンチ1（エモンガ）を選択
シビシラス と エモンガ を入れ替えた！
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=36 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=4 action=[6, 100008, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=4 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=3:0.500000,2:0.187500,1:0.187500 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=3:0.650000,2:0.131250,1:0.131250 chosen=3:0.650000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=3 mcts_top3=3:0.500,1:0.188,2:0.188 q_top3=3:-26502.141,0:-88645904.000,2:-177285440.000 mix_top3=3:0.650,1:0.131,2:0.131
[DECIDE_PRE] t=36 player=p1 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=4 selected_idx=3 selected_p=0.650000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=36 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=3 changed=1
36 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「シビビール (HP: 90)」を引きました（残り山札は23枚）
----- 後攻 37ターン開始: p2 -----
p2: 山札 23 / 手札 6 / トラッシュ 13 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=37 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=37 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=23 ok=23 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=37 forced_before=False target=[11, 90001, 0, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]'] ids_sample=[[11, 90001, 1, 0, 0], [4, 70002, 0, 0, 0], [4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action acti\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=5:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,5:0.000000,6:0.000000 mix_top=5:0.700000,7:0.300000,6:0.000000 chosen=5:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=5 mix_idx=7 mcts_top3=5:1.000,0:0.000,1:0.000 q_top3=7:-25271.578,5:-25713.777,4:-29899.211 mix_top3=5:0.700,7:0.300,0:0.000
[DECIDE_PRE] t=37 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=37 player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=8 selected_idx=7 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=37 player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=5 mix_idx=7 changed=1
37 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「雷エネルギー」を引きました（残り山札は24枚）
----- 先攻 38ターン開始: p1 -----
p1: 山札 24 / 手札 7 / トラッシュ 5 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=38 n_actions=18 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=38 n_actions=18 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=18
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=18 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=7 n_actions=18 action=[2, 6, 1, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=7 n_actions=18 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=18 pi_top=14:0.078125,8:0.062500,7:0.062500 q_top=17:1.000000,14:0.000000,7:0.000000 mix_top=17:0.310937,14:0.054688,7:0.043750 chosen=17:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=7 mix_idx=9 mcts_top3=14:0.078,0:0.062,1:0.062 q_top3=17:-25955.547,14:-26386.090,0:-29232.242 mix_top3=17:0.311,14:0.055,0:0.044
[DECIDE_PRE] t=38 player=p1 policy=OnlineMixedPolicy n_actions=18
[DECIDE_POST] idx=9 action_type=2 vec=[2, 6, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=18
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=38 player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=18 selected_idx=9 selected_p=0.043750
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=38 player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=7 mix_idx=9 changed=1
38 p1: [エネルギー] 闘エネルギー を ベンチ3 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=38 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=38 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=36 ok=36 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=38 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=4:1.000000,5:0.000000,3:0.000000 q_top=5:1.000000,2:0.000000,4:0.000000 mix_top=4:0.700000,5:0.300000,2:0.000000 chosen=4:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=5 mcts_top3=4:1.000,0:0.000,1:0.000 q_top3=5:-25955.547,2:-26386.090,0:-88645616.000 mix_top3=4:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=38 player=p1 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=38 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=38 player=Player(p1, 手札: 6 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=4 mix_idx=5 changed=1
38 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「チェレン」を引きました（残り山札は22枚）
----- 後攻 39ターン開始: p2 -----
p2: 山札 22 / 手札 7 / トラッシュ 13 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=39 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=39 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=15 ok=15 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=39 forced_before=False target=[11, 90001, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]'] ids_sample=[[11, 90001, 1, 0, 0], [4, 70002, 0, 0, 0], [4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=6:1.000000,7:0.000000,5:0.000000 q_top=7:1.000000,5:0.000000,6:0.000000 mix_top=6:0.700000,7:0.300000,5:0.000000 chosen=6:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=6 mix_idx=7 mcts_top3=6:1.000,0:0.000,1:0.000 q_top3=7:-24725.746,5:-25214.615,4:-29507.836 mix_top3=6:0.700,7:0.300,0:0.000
[DECIDE_PRE] t=39 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=39 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=8 selected_idx=7 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=39 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=6 mix_idx=7 changed=1
39 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ポケモンキャッチャー」を引きました（残り山札は23枚）
----- 先攻 40ターン開始: p1 -----
p1: 山札 23 / 手札 7 / トラッシュ 5 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=40 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=40 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=40 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=11 ids_len=11 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [4, 70007, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=10:1.000000,12:0.000000,11:0.000000 q_top=12:1.000000,9:0.000000,11:0.000000 mix_top=10:0.700000,12:0.300000,9:0.000000 chosen=10:0.700000
[DECIDE_PRE] t=40 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=10 action_type=6 vec=[6, 100008, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=40 player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=13 selected_idx=10 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=40 player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=10 mix_idx=10 changed=0
40 p1: [ワザ宣言] エモンガ の なかまをよぶ
p2 は山札から「雷エネルギー」を引きました（残り山札は21枚）
----- 後攻 41ターン開始: p2 -----
p2: 山札 21 / 手札 8 / トラッシュ 13 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=41 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=41 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=11 action=[2, 4, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=11 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=5:0.140625,1:0.140625,0:0.140625 q_top=10:1.000000,8:0.000000,9:0.000000 mix_top=10:0.310937,5:0.098437,1:0.098437 chosen=10:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=5 mcts_top3=0:0.141,1:0.141,5:0.141 q_top3=10:-24185.148,8:-24718.641,0:-27708.977 mix_top3=10:0.311,0:0.098,1:0.098
[DECIDE_PRE] t=41 player=p2 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=5 action_type=4 vec=[4, 70002, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=41 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=11 selected_idx=5 selected_p=0.098438
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=41 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=0 mix_idx=5 changed=1
41 p2: [サポーター] ボスの指令 を使う
ボスの指令 をトラッシュに送りました。
AIは相手のベンチ2（シビシラス）を選択
相手の エモンガ と シビシラス を入れ替えた！
p2 は ボスの指令（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=41 n_actions=9 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=41 n_actions=9 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=9
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=9 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=36 ok=36 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=41 forced_before=False target=[11, 90001, 1, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の エモンガ に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [11, 90001, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネル\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=9 pi_top=1:1.000000,8:0.000000,7:0.000000 q_top=8:1.000000,6:0.000000,7:0.000000 mix_top=1:0.700000,8:0.300000,6:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=41 player=p2 policy=OnlineMixedPolicy n_actions=9
[DECIDE_POST] idx=1 action_type=2 vec=[2, 4, 1, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=9
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=41 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=9 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=41 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
41 p2: [エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=41 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=41 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=20 ok=20 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=41 forced_before=False target=[11, 90001, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける action_type=11 serialize=[11, 90001, 1, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 1, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=1:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,3:0.000000,4:0.000000 mix_top=1:0.700000,5:0.300000,3:0.000000 chosen=1:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=5 mcts_top3=1:1.000,0:0.000,2:0.000 q_top3=5:-24185.148,3:-24718.641,2:-29125.449 mix_top3=1:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=41 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=41 player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=41 player=Player(p2, 手札: 6 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=1 mix_idx=5 changed=1
41 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「チェレン」を引きました（残り山札は22枚）
----- 先攻 42ターン開始: p1 -----
p1: 山札 22 / 手札 8 / トラッシュ 5 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=42 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=42 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=42 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=10 ids_len=10 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [4, 70007, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の エモンガ に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベン\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=10:1.000000,12:0.000000,11:0.000000 q_top=12:1.000000,10:0.000000,11:0.000000 mix_top=10:0.700000,12:0.300000,11:0.000000 chosen=10:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=10 mix_idx=12 mcts_top3=10:1.000,0:0.000,1:0.000 q_top3=12:-24865.570,10:-25389.883,0:-28354.848 mix_top3=10:0.700,12:0.300,0:0.000
[DECIDE_PRE] t=42 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=12 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=42 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=13 selected_idx=12 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=42 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=10 mix_idx=12 changed=1
42 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「ボウルタウン」を引きました（残り山札は20枚）
----- 後攻 43ターン開始: p2 -----
p2: 山札 20 / 手札 7 / トラッシュ 14 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=43 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=43 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=25 ok=25 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=43 forced_before=False target=[11, 90001, 1, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける action_type=11 serialize=[11, 90001, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[11, 90001, 0, 0, 0], [4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネ\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=4:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,4:0.000000,5:0.000000 mix_top=4:0.700000,6:0.300000,5:0.000000 chosen=4:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=6 mcts_top3=4:1.000,0:0.000,1:0.000 q_top3=6:-23645.266,4:-24242.822,3:-28743.082 mix_top3=4:0.700,6:0.300,0:0.000
[DECIDE_PRE] t=43 player=p2 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=6 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=43 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=7 selected_idx=6 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=43 player=Player(p2, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=4 mix_idx=6 changed=1
43 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「テラキオン (HP: 140)」を引きました（残り山札は21枚）
----- 先攻 44ターン開始: p1 -----
p1: 山札 21 / 手札 9 / トラッシュ 5 / ベンチ 5
バトル場: シビシラス (HP:20)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=44 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=44 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=44 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=11 ids_len=11 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [4, 70007, 0, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の エモンガ に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=3:1.000000,12:0.000000,11:0.000000 q_top=12:1.000000,10:0.000000,11:0.000000 mix_top=3:0.700000,12:0.300000,10:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=44 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=3 action_type=2 vec=[2, 4, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 9 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=44 player=Player(p1, 手札: 9 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=13 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=44 player=Player(p1, 手札: 9 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
44 p1: [エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=44 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=44 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=13 ok=13 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=44 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=2:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,4:0.000000,5:0.000000 mix_top=2:0.700000,6:0.300000,4:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=44 player=p1 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=2 action_type=4 vec=[4, 70007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=44 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=7 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=44 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 20) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
44 p1: [サポーター] マコモ を使う

[DEBUG] マコモ使用前: damaged_targets=1 / hand=8 deck=21 trash=5
マコモ をトラッシュに送りました。
シビシラス (HP: 20) のHPを40回復（20→40）
p1 のバトル場とベンチのポケモン全員のHPを40回復した
[DEBUG] マコモ使用後: hand=7 deck=21 trash=6
p1 は マコモ（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=44 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=44 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=10 ok=10 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=44 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]) out=[5, 0, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=1:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,2:0.000000,3:0.000000 mix_top=1:0.700000,4:0.300000,2:0.000000 chosen=1:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=4 mcts_top3=1:1.000,0:0.000,2:0.000 q_top3=4:-24324.148,2:-24897.648,0:-88644752.000 mix_top3=1:0.700,4:0.300,0:0.000
[DECIDE_PRE] t=44 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=44 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=44 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=4 changed=1
44 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「ハイパーボール」を引きました（残り山札は19枚）
----- 後攻 45ターン開始: p2 -----
p2: 山札 19 / 手札 8 / トラッシュ 14 / ベンチ 2
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=45 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=45 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=27 ok=27 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=45 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[スタジアム] ボウルタウンの効果を使用 action_type=10 serialize=[10, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [10, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=10 name=[スタジアム] ボウルタウンの効果を使用 out=[10, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTI\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=4:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,5:0.000000,6:0.000000 mix_top=4:0.700000,7:0.300000,5:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=45 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=4 action_type=10 vec=[10, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=45 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) la_len=8 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=45 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 2 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
45 p2: [スタジアム] ボウルタウンの効果を使用
【ボウルタウン】山札のたねポケモン候補:
  1: エモンガ (HP: 70)  id=6f6562ea…
p2 はボウルタウンの効果で エモンガ をベンチに出しました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=45 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=45 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=6 ok=6 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=45 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の エモンガ に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の エモンガ に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=3:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,5:0.000000,6:0.000000 mix_top=3:0.700000,7:0.300000,5:0.000000 chosen=3:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=3 mix_idx=7 mcts_top3=3:1.000,0:0.000,1:0.000 q_top3=7:-22530.320,5:-23267.484,1:-88643664.000 mix_top3=3:0.700,7:0.300,0:0.000
[DECIDE_PRE] t=45 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=45 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=8 selected_idx=7 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=45 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=3 mix_idx=7 changed=1
45 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「雷エネルギー」を引きました（残り山札は20枚）
----- 先攻 46ターン開始: p1 -----
p1: 山札 20 / 手札 8 / トラッシュ 6 / ベンチ 5
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=46 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=46 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=14 ok=14 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=46 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の エモンガ に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の エモンガ に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=0:1.000000,11:0.000000,10:0.000000 q_top=11:1.000000,9:0.000000,10:0.000000 mix_top=0:0.700000,11:0.300000,9:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=46 player=p1 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=46 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=12 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=46 player=Player(p1, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×3, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
46 p1: [エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=46 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=46 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=46 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=3:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,3:0.000000,4:0.000000 mix_top=3:0.700000,5:0.300000,4:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=46 player=p1 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=3 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=46 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=6 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=46 player=Player(p1, 手札: 7 cards, バトル場: [シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
46 p1: [逃げる] バトル場の (シビシラス (HP: 40) [雷エネルギー×4, 闘エネルギー])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=46 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=46 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=9 ok=9 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=46 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ2 の シビシラス に付ける out=[11, 90001, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の シビシラス に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ4 の エモンガ に付ける out=[11, 90001, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_S\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=3:1.000000,2:0.000000,1:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=3:1.000000,2:0.000000,1:0.000000 chosen=3:1.000000
[DECIDE_PRE] t=46 player=p1 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=46 player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=4 selected_idx=3 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=46 player=Player(p1, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
46 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は17枚）
----- 後攻 47ターン開始: p2 -----
p2: 山札 17 / 手札 9 / トラッシュ 14 / ベンチ 3
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=47 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=47 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=47 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=8 ids_len=8 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の エモンガ に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=11:1.000000,10:0.000000,9:0.000000 q_top=11:1.000000,10:0.000000,9:0.000000 mix_top=11:1.000000,10:0.000000,9:0.000000 chosen=11:1.000000
[DECIDE_PRE] t=47 player=p2 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=11 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=47 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=12 selected_idx=11 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=47 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=11 mix_idx=11 changed=0
47 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ふうせん」を引きました（残り山札は19枚）
----- 先攻 48ターン開始: p1 -----
p1: 山札 19 / 手札 8 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=48 n_actions=16 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=48 n_actions=16 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=16
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=16 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=10 ok=10 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=48 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=8 ids_len=8 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の エモンガ に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の エモンガ に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ2 の シビシラス に付ける out=[11, 90001, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] ty\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=16 pi_top=10:1.000000,15:0.000000,14:0.000000 q_top=15:1.000000,14:0.000000,13:0.000000 mix_top=10:0.700000,15:0.300000,14:0.000000 chosen=10:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=10 mix_idx=15 mcts_top3=10:1.000,0:0.000,1:0.000 q_top3=15:-23216.916,14:-23946.812,0:-27021.453 mix_top3=10:0.700,15:0.300,0:0.000
[DECIDE_PRE] t=48 player=p1 policy=OnlineMixedPolicy n_actions=16
[DECIDE_POST] idx=15 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=16
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=48 player=Player(p1, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=16 selected_idx=15 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=48 player=Player(p1, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=10 mix_idx=15 changed=1
48 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「ハイパーボール」を引きました（残り山札は16枚）
----- 後攻 49ターン開始: p2 -----
p2: 山札 16 / 手札 10 / トラッシュ 14 / ベンチ 3
バトル場: シビシラス (HP:40)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=7 ok=7 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=49 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=8 ids_len=8 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の エモンガ に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (H\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=2:1.000000,11:0.000000,10:0.000000 q_top=11:1.000000,10:0.000000,9:0.000000 mix_top=2:0.700000,11:0.300000,10:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=2 action_type=2 vec=[2, 4, 2, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=12 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
49 p2: [エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=3 ok=3 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=49 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の エモンガ に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の シビシラス に付ける out=[\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=2:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=2:0.700000,7:0.300000,6:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=2 action_type=11 vec=[11, 90001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=8 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 9 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
49 p2: [どうぐ] ふうせん を バトル場 の シビシラス に付ける
p2 は ふうせん（どうぐ）を シビシラス に付けた
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=49 forced_before=False target=[3, 50003, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] シビシラス の じっとする action_type=6 serialize=[6, 100001, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTI\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=2:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=2:0.700000,5:0.300000,4:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=2 action_type=4 vec=[4, 70005, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=6 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
49 p2: [サポーター] チェレン を使う
チェレン をトラッシュに送りました。
p2 は山札から3枚引いた
p2 の新しい手札: シビビール (HP: 90), ポケモンいれかえ, シビビール (HP: 90), チェレン, ボウルタウン, ハイパーボール, ハイパーボール, シビビール (HP: 90), ボウルタウン, ボスの指令
p2 は チェレン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=49 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=1:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=1:0.700000,4:0.300000,3:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=1 action_type=3 vec=[3, 50001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=5 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 10 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
49 p2: [グッズ] ハイパーボール を使う
シビビール (HP: 90)をトラッシュしました
ポケモンいれかえをトラッシュしました
ゼクロムex (HP: 230)を手札に加えました
山札をシャッフルしました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=11 ok=11 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=49 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] シビシラス の じっとする out=[6, 100001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー]) out=[5, 0, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=1:1.000000,3:0.000000,2:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=1:0.700000,3:0.300000,2:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=1 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) la_len=4 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 8 cards, バトル場: [シビシラス (HP: 40) [闘エネルギー]], Bench: 3 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
49 p2: [逃げる] バトル場の (シビシラス (HP: 40) [闘エネルギー])
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=2 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=2 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=2
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=2 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=2 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=1 n_actions=2 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=2 pi_top=1:0.718750,0:0.281250 q_top=1:1.000000,0:0.000000 mix_top=1:0.803125,0:0.196875 chosen=1:0.803125
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=1 mix_idx=0 mcts_top3=1:0.719,0:0.281 q_top3=1:-19164.602,0:-88641816.000 mix_top3=1:0.803,0:0.197
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=2
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=2
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=2 selected_idx=0 selected_p=0.196875
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=1 mix_idx=0 changed=1
49 p2: [グッズ] ハイパーボール を使う
シビビール (HP: 90)をトラッシュしました
シビビール (HP: 90)をトラッシュしました
ゼクロムex (HP: 230)を手札に加えました
山札をシャッフルしました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=1 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=49 n_actions=1 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=1
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=1 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=1 pi_top=0:1.000000 q_top=0:1.000000 mix_top=0:1.000000 chosen=0:1.000000
[DECIDE_PRE] t=49 player=p2 policy=OnlineMixedPolicy n_actions=1
[DECIDE_POST] idx=0 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=1
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=1 selected_idx=0 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=49 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
49 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「シビビール (HP: 90)」を引きました（残り山札は18枚）
----- 先攻 50ターン開始: p1 -----
p1: 山札 18 / 手札 9 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=50 n_actions=16 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=50 n_actions=16 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=16
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=16 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=50 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の エモンガ に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ2 の シビシラス に付ける out=[11, 90001, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の シビシラス に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ4 の エモンガ に付ける out=[11, 90001, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERI\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=16 pi_top=6:1.000000,15:0.000000,14:0.000000 q_top=15:1.000000,14:0.000000,13:0.000000 mix_top=6:0.700000,15:0.300000,14:0.000000 chosen=6:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=6 mix_idx=15 mcts_top3=6:1.000,0:0.000,1:0.000 q_top3=15:-22544.301,14:-23408.211,0:-26473.562 mix_top3=6:0.700,15:0.300,0:0.000
[DECIDE_PRE] t=50 player=p1 policy=OnlineMixedPolicy n_actions=16
[DECIDE_POST] idx=15 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=16
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=50 player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=16 selected_idx=15 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=50 player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=6 mix_idx=15 changed=1
50 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は10枚）
----- 後攻 51ターン開始: p2 -----
p2: 山札 10 / 手札 7 / トラッシュ 21 / ベンチ 3
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=51 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=51 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=8 action=[4, 70005, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=4 n_actions=8 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=6:0.281250,1:0.140625,0:0.140625 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=7:0.310937,6:0.196875,1:0.098437 chosen=7:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=3 mcts_top3=6:0.281,0:0.141,1:0.141 q_top3=7:-18069.723,6:-19690.461,0:-22756.266 mix_top3=7:0.311,6:0.197,0:0.098
[DECIDE_PRE] t=51 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=3 action_type=2 vec=[2, 4, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=51 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=8 selected_idx=3 selected_p=0.065625
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=51 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=4 mix_idx=3 changed=1
51 p2: [エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=51 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=51 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=13 ok=13 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=51 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=3:1.000000,2:0.000000,1:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=3:1.000000,2:0.000000,1:0.000000 chosen=3:1.000000
[DECIDE_PRE] t=51 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=51 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=4 selected_idx=3 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=51 player=Player(p2, 手札: 6 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
51 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「チェレン」を引きました（残り山札は17枚）
----- 先攻 52ターン開始: p1 -----
p1: 山札 17 / 手札 10 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=52 n_actions=16 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=52 n_actions=16 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=16
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=16 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=14 ok=14 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=52 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=9 ids_len=9 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ4 の エモンガ に付ける action_type=2 serialize=[2, 4, 4, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [2, 4, 4, 0, 0], [2, 4, 5, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の エモンガ に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の シビシラス に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ2 の シビシラス に付ける out=[11, 90001, 2, 0, 0]\n[ACTIO\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=16 pi_top=3:1.000000,15:0.000000,14:0.000000 q_top=15:1.000000,14:0.000000,13:0.000000 mix_top=3:0.700000,15:0.300000,14:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=52 player=p1 policy=OnlineMixedPolicy n_actions=16
[DECIDE_POST] idx=3 action_type=2 vec=[2, 4, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=16
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=52 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=16 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=52 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
52 p1: [エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=52 n_actions=10 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=52 n_actions=10 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=10
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=10 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=2 ok=2 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=52 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ1 の シビシラス に付ける out=[11, 90001, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ2 の シビシラス に付ける out=[11, 90001, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ3 の シビシラス に付ける out=[11, 90001, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を ベンチ4 の エモンガ に付ける out=[11, 90001, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を バトル場 の エモンガ に付ける out=[11, 90001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=11 name=[どうぐ] ふうせん を \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=10 pi_top=6:1.000000,9:0.000000,8:0.000000 q_top=9:1.000000,8:0.000000,7:0.000000 mix_top=6:0.700000,9:0.300000,8:0.000000 chosen=6:0.700000
[DECIDE_PRE] t=52 player=p1 policy=OnlineMixedPolicy n_actions=10
[DECIDE_POST] idx=6 action_type=11 vec=[11, 90001, 4, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=10
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=52 player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=10 selected_idx=6 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=52 player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=6 mix_idx=6 changed=0
52 p1: [どうぐ] ふうせん を ベンチ4 の エモンガ に付ける
p1 は ふうせん（どうぐ）を エモンガ に付けた
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=52 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=52 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=30 ok=30 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=52 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=0:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=0:0.700000,4:0.300000,3:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=4 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=4:-22010.797,3:-22952.139,0:-88643480.000 mix_top3=0:0.700,4:0.300,1:0.000
[DECIDE_PRE] t=52 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=52 player=Player(p1, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=52 player=Player(p1, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=4 changed=1
52 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は9枚）
----- 後攻 53ターン開始: p2 -----
p2: 山札 9 / 手札 7 / トラッシュ 21 / ベンチ 3
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=53 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=53 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=59 ok=59 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=53 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=9 ids_len=9 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [4, 70005, 0, 0, 0], [4, 70002, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action act\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=0:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=0:0.700000,7:0.300000,6:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=7 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=7:-17553.959,6:-19317.242,0:-22373.691 mix_top3=0:0.700,7:0.300,1:0.000
[DECIDE_PRE] t=53 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=53 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=8 selected_idx=7 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=53 player=Player(p2, 手札: 7 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=7 changed=1
53 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ポケモンキャッチャー」を引きました（残り山札は16枚）
----- 先攻 54ターン開始: p1 -----
p1: 山札 16 / 手札 9 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=54 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=54 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=6 ok=6 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=54 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 na\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=0:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=0:0.700000,4:0.300000,3:0.000000 chosen=0:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=4 mcts_top3=0:1.000,1:0.000,2:0.000 q_top3=4:-21477.766,3:-22522.918,0:-88643192.000 mix_top3=0:0.700,4:0.300,1:0.000
[DECIDE_PRE] t=54 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=4 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=54 player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=5 selected_idx=4 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=54 player=Player(p1, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=4 changed=1
54 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「マコモ」を引きました（残り山札は8枚）
----- 後攻 55ターン開始: p2 -----
p2: 山札 8 / 手札 8 / トラッシュ 21 / ベンチ 3
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=55 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=55 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=59 ok=59 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=55 forced_before=False target=[6, 100008, 0, 0, 0] cache_ok=False actions_len=8 ids_len=8 actions_sample=['type=Action name=[エネルギー] 雷エネルギー を バトル場 の シビシラス に付ける action_type=2 serialize=[2, 4, 0, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける action_type=2 serialize=[2, 4, 1, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける action_type=2 serialize=[2, 4, 2, 0, 0]', 'type=Action name=[エネルギー] 雷エネルギー を ベンチ3 の エモンガ に付ける action_type=2 serialize=[2, 4, 3, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]'] ids_sample=[[2, 4, 0, 0, 0], [2, 4, 1, 0, 0], [2, 4, 2, 0, 0], [2, 4, 3, 0, 0], [4, 70005, 0, 0, 0], [4, 70002, 0, 0, 0], [6, 100001, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の エモンガ に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=4:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=4:0.700000,7:0.300000,6:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=55 player=p2 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=4 action_type=4 vec=[4, 70005, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=55 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=8 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=55 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
55 p2: [サポーター] チェレン を使う
チェレン をトラッシュに送りました。
p2 は山札から3枚引いた
p2 の新しい手札: ボウルタウン, ボウルタウン, ボスの指令, ゼクロムex (HP: 230), ゼクロムex (HP: 230), 雷エネルギー, マコモ, 闘エネルギー, ボウルタウン, 闘エネルギー
p2 は チェレン（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=55 n_actions=10 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=55 n_actions=10 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=10
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=10 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=10 action=[2, 4, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=10 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=10 pi_top=8:0.234375,7:0.093750,6:0.093750 q_top=9:1.000000,8:0.000000,7:0.000000 mix_top=9:0.310937,8:0.164062,7:0.065625 chosen=9:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=9 mcts_top3=8:0.234,0:0.094,1:0.094 q_top3=9:-15392.683,8:-17623.566,0:-20717.902 mix_top3=9:0.311,8:0.164,0:0.066
[DECIDE_PRE] t=55 player=p2 policy=OnlineMixedPolicy n_actions=10
[DECIDE_POST] idx=9 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=10
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=55 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=10 selected_idx=9 selected_p=0.310938
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=55 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=9 changed=1
55 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ゼクロムex (HP: 230)」を引きました（残り山札は15枚）
----- 先攻 56ターン開始: p1 -----
p1: 山札 15 / 手札 10 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=56 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=56 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=15 ok=15 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=56 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=3 ids_len=3 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70)) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70)) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 na\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=3:1.000000,4:0.000000,2:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=3:0.700000,4:0.300000,2:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=56 player=p1 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=3 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=56 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) la_len=5 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=56 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
56 p1: [逃げる] バトル場の (エモンガ (HP: 70))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=56 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=56 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=7 ok=7 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=56 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=4:1.000000,5:0.000000,3:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=4:0.700000,5:0.300000,3:0.000000 chosen=4:0.700000
[DECIDE_PRE] t=56 player=p1 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=4 action_type=6 vec=[6, 100007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=56 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=6 selected_idx=4 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=56 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=4 mix_idx=4 changed=0
56 p1: [ワザ宣言] エモンガ の バチバチ
p2 は山札から「雷エネルギー」を引きました（残り山札は4枚）
----- 後攻 57ターン開始: p2 -----
p2: 山札 4 / 手札 11 / トラッシュ 22 / ベンチ 3
バトル場: エモンガ (HP:50)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=57 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=57 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=9 n_actions=12 action=[4, 70007, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=9 n_actions=12 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=10:0.093750,7:0.093750,6:0.093750 q_top=11:1.000000,10:0.000000,9:0.000000 mix_top=11:0.310937,10:0.065625,7:0.065625 chosen=11:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=9 mix_idx=11 mcts_top3=0:0.094,1:0.094,2:0.094 q_top3=11:-14902.114,10:-17259.586,0:-20362.980 mix_top3=11:0.311,0:0.066,1:0.066
[DECIDE_PRE] t=57 player=p2 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=11 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 11 cards, バトル場: [エモンガ (HP: 50)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=57 player=Player(p2, 手札: 11 cards, バトル場: [エモンガ (HP: 50)], Bench: 3 cards, Points: 0) la_len=12 selected_idx=11 selected_p=0.310938
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=57 player=Player(p2, 手札: 11 cards, バトル場: [エモンガ (HP: 50)], Bench: 3 cards, Points: 0) mcts_idx=9 mix_idx=11 changed=1
57 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「雷エネルギー」を引きました（残り山札は14枚）
----- 先攻 58ターン開始: p1 -----
p1: 山札 14 / 手札 11 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=58 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=58 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=58 ok=58 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=58 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける out=[2, 4, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける out=[2, 4, 1, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ2 の シビシラス に付ける out=[2, 4, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ3 の シビシラス に付ける out=[2, 4, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ4 の シビシラス に付ける out=[2, 4, 4, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=2 name=[エネルギー] 雷エネルギー を ベンチ5 の エモンガ に付ける out=[2, 4, 5, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] \n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=1:1.000000,12:0.000000,11:0.000000 q_top=12:1.000000,11:0.000000,10:0.000000 mix_top=1:0.700000,12:0.300000,11:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=58 player=p1 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=1 action_type=2 vec=[2, 4, 1, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=58 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=13 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=58 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
58 p1: [エネルギー] 雷エネルギー を ベンチ1 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=58 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=58 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=20 ok=20 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=58 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=4 ids_len=4 actions_sample=['type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ o\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=5:1.000000,6:0.000000,4:0.000000 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=5:0.700000,6:0.300000,4:0.000000 chosen=5:0.700000
[DECIDE_PRE] t=58 player=p1 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=5 action_type=6 vec=[6, 100007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=58 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=7 selected_idx=5 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=58 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=5 mix_idx=5 changed=0
58 p1: [ワザ宣言] エモンガ の バチバチ
p2 は山札から「ポケモンいれかえ」を引きました（残り山札は3枚）
----- 後攻 59ターン開始: p2 -----
p2: 山札 3 / 手札 12 / トラッシュ 22 / ベンチ 3
バトル場: エモンガ (HP:30)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=13 action=[2, 4, 2, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=13 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=8:0.093750,3:0.093750,2:0.093750 q_top=12:1.000000,11:0.000000,10:0.000000 mix_top=12:0.310937,8:0.065625,3:0.065625 chosen=12:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=11 mcts_top3=0:0.094,1:0.094,2:0.094 q_top3=12:-14414.578,11:-16922.508,0:-20009.230 mix_top3=12:0.311,0:0.066,1:0.066
[DECIDE_PRE] t=59 player=p2 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=11 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 12 cards, バトル場: [エモンガ (HP: 30)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 12 cards, バトル場: [エモンガ (HP: 30)], Bench: 3 cards, Points: 0) la_len=13 selected_idx=11 selected_p=0.054688
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 12 cards, バトル場: [エモンガ (HP: 30)], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=11 changed=1
59 p2: [逃げる] バトル場の (エモンガ (HP: 30))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=14 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=14 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=14
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=14 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=5 n_actions=14 action=[2, 6, 1, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=5 n_actions=14 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=14 pi_top=8:0.093750,6:0.093750,5:0.093750 q_top=13:1.000000,12:0.000000,11:0.000000 mix_top=13:0.310937,8:0.065625,6:0.065625 chosen=13:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=5 mix_idx=10 mcts_top3=0:0.094,1:0.094,2:0.094 q_top3=13:-14414.578,0:-20009.230,1:-21557.949 mix_top3=13:0.311,0:0.066,1:0.066
[DECIDE_PRE] t=59 player=p2 policy=OnlineMixedPolicy n_actions=14
[DECIDE_POST] idx=10 action_type=4 vec=[4, 70007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 12 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=14
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 12 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) la_len=14 selected_idx=10 selected_p=0.043750
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 12 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) mcts_idx=5 mix_idx=10 changed=1
59 p2: [サポーター] マコモ を使う

[DEBUG] マコモ使用前: damaged_targets=1 / hand=12 deck=3 trash=22
マコモ をトラッシュに送りました。
エモンガ (HP: 30) のHPを40回復（30→70）
p2 のバトル場とベンチのポケモン全員のHPを40回復した
[DEBUG] マコモ使用後: hand=11 deck=3 trash=23
p2 は マコモ（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=12 action=[3, 50003, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=12 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=8:0.296875,1:0.093750,0:0.093750 q_top=11:1.000000,10:0.000000,9:0.000000 mix_top=11:0.310937,8:0.207812,1:0.065625 chosen=11:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=8 mix_idx=6 mcts_top3=8:0.297,0:0.094,1:0.094 q_top3=11:-14414.578,0:-20009.230,1:-21557.949 mix_top3=11:0.311,8:0.208,0:0.066
[DECIDE_PRE] t=59 player=p2 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=6 action_type=2 vec=[2, 6, 2, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) la_len=12 selected_idx=6 selected_p=0.054688
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) mcts_idx=8 mix_idx=6 changed=1
59 p2: [エネルギー] 闘エネルギー を ベンチ2 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=5 ok=5 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=59 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=1 ids_len=1 actions_sample=['type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンいれかえ を使う out=[3, 50003, 2, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=0:1.000000,3:0.000000,2:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=0:0.700000,3:0.300000,2:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=59 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50003, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) la_len=4 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
59 p2: [グッズ] ポケモンいれかえ を使う
AIはベンチ2（エモンガ）を選択
エモンガ と エモンガ を入れ替えた！
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=1 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=59 n_actions=1 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=1
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=1 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 action=[0, 0, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=1 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=1 pi_top=0:1.000000 q_top=0:1.000000 mix_top=0:1.000000 chosen=0:1.000000
[DECIDE_PRE] t=59 player=p2 policy=OnlineMixedPolicy n_actions=1
[DECIDE_POST] idx=0 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=1
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=1 selected_idx=0 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=59 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
59 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ハイパーボール」を引きました（残り山札は13枚）
----- 先攻 60ターン開始: p1 -----
p1: 山札 13 / 手札 11 / トラッシュ 6 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=60 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=60 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=8 ok=8 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=60 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=1:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=1:0.700000,6:0.300000,5:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=60 player=p1 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=1 action_type=3 vec=[3, 50002, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=60 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=7 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=60 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
60 p1: [グッズ] ポケモンキャッチャー を使う
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=60 n_actions=7 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=60 n_actions=7 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=7
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=7 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=20 ok=20 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=60 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=7 pi_top=4:1.000000,6:0.000000,5:0.000000 q_top=6:1.000000,5:0.000000,4:0.000000 mix_top=4:0.700000,6:0.300000,5:0.000000 chosen=4:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=4 mix_idx=6 mcts_top3=4:1.000,0:0.000,1:0.000 q_top3=6:-19831.320,3:-21290.180,0:-88642272.000 mix_top3=4:0.700,6:0.300,0:0.000
[DECIDE_PRE] t=60 player=p1 policy=OnlineMixedPolicy n_actions=7
[DECIDE_POST] idx=6 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=7
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=60 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=7 selected_idx=6 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=60 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=4 mix_idx=6 changed=1
60 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「雷エネルギー」を引きました（残り山札は2枚）
----- 後攻 61ターン開始: p2 -----
p2: 山札 2 / 手札 10 / トラッシュ 24 / ベンチ 3
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=61 n_actions=11 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=61 n_actions=11 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=11
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=11 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=11 action=[2, 4, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=0 n_actions=11 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=11 pi_top=9:0.296875,0:0.125000,8:0.093750 q_top=10:1.000000,9:0.000000,8:0.000000 mix_top=10:0.310937,9:0.207812,0:0.087500 chosen=10:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=0 mix_idx=9 mcts_top3=9:0.297,0:0.125,1:0.094 q_top3=10:-13927.629,9:-16589.516,0:-19668.186 mix_top3=10:0.311,9:0.208,0:0.087
[DECIDE_PRE] t=61 player=p2 policy=OnlineMixedPolicy n_actions=11
[DECIDE_POST] idx=9 action_type=5 vec=[5, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) base_out_type=int pi_len=11
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=61 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) la_len=11 selected_idx=9 selected_p=0.207813
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=61 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70)], Bench: 3 cards, Points: 0) mcts_idx=0 mix_idx=9 changed=1
61 p2: [逃げる] バトル場の (エモンガ (HP: 70))
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=61 n_actions=12 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=61 n_actions=12 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=12
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=12 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=12 action=[4, 70002, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=12 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=12 pi_top=8:0.296875,1:0.093750,0:0.093750 q_top=11:1.000000,10:0.000000,9:0.000000 mix_top=11:0.310937,8:0.207812,1:0.065625 chosen=11:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=8 mix_idx=0 mcts_top3=8:0.297,0:0.094,1:0.094 q_top3=11:-13927.629,0:-19668.186,1:-21218.137 mix_top3=11:0.311,8:0.208,0:0.066
[DECIDE_PRE] t=61 player=p2 policy=OnlineMixedPolicy n_actions=12
[DECIDE_POST] idx=0 action_type=2 vec=[2, 4, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=12
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=61 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) la_len=12 selected_idx=0 selected_p=0.065625
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=61 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×6]], Bench: 3 cards, Points: 0) mcts_idx=8 mix_idx=0 changed=1
61 p2: [エネルギー] 雷エネルギー を バトル場 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=61 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=61 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=4 action=[6, 100007, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=2 n_actions=4 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=3:0.359375,2:0.265625,1:0.265625 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=3:0.551562,2:0.185937,1:0.185937 chosen=3:0.551562
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=2 mix_idx=3 mcts_top3=3:0.359,1:0.266,2:0.266 q_top3=3:-13927.629,0:-124091872.000,2:-177278352.000 mix_top3=3:0.552,1:0.186,2:0.186
[DECIDE_PRE] t=61 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=61 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) la_len=4 selected_idx=3 selected_p=0.551563
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=61 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=3 changed=1
61 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ボスの指令」を引きました（残り山札は12枚）
----- 先攻 62ターン開始: p1 -----
p1: 山札 12 / 手札 11 / トラッシュ 7 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=62 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=62 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=5 ok=5 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=62 forced_before=False target=[3, 50002, 0, 0, 0] cache_ok=False actions_len=7 ids_len=7 actions_sample=['type=Action name=[グッズ] ハイパーボール を使う action_type=3 serialize=[3, 50001, 0, 0, 0]', 'type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]'] ids_sample=[[3, 50001, 0, 0, 0], [4, 70005, 0, 0, 0], [4, 70002, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=6:1.000000,7:0.000000,5:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=6:0.700000,7:0.300000,5:0.000000 chosen=6:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=6 mix_idx=7 mcts_top3=6:1.000,0:0.000,1:0.000 q_top3=7:-19313.152,4:-20912.934,0:-88641984.000 mix_top3=6:0.700,7:0.300,0:0.000
[DECIDE_PRE] t=62 player=p1 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=62 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=8 selected_idx=7 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=62 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=6 mix_idx=7 changed=1
62 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「マコモ」を引きました（残り山札は1枚）
----- 後攻 63ターン開始: p2 -----
p2: 山札 1 / 手札 10 / トラッシュ 24 / ベンチ 3
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=63 n_actions=14 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=63 n_actions=14 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=14
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=14 num_simulations=64
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=14 action=[4, 70002, 0, 0, 0]
[AZ][DECISION] src=mcts pick=sample idx=8 n_actions=14 pi_from=az_pi
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=14 pi_top=10:0.093750,7:0.093750,6:0.093750 q_top=13:1.000000,12:0.000000,11:0.000000 mix_top=13:0.310937,10:0.065625,7:0.065625 chosen=13:0.310937
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=8 mix_idx=3 mcts_top3=0:0.094,1:0.094,2:0.094 q_top3=13:-13453.477,10:-16263.793,4:-19334.113 mix_top3=13:0.311,0:0.066,1:0.066
[DECIDE_PRE] t=63 player=p2 policy=OnlineMixedPolicy n_actions=14
[DECIDE_POST] idx=3 action_type=2 vec=[2, 6, 3, 0, 0]
[DECIDE_DIFF] mode=online_mix source=main mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=14
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=63 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) la_len=14 selected_idx=3 selected_p=0.054688
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=63 player=Player(p2, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) mcts_idx=8 mix_idx=3 changed=1
63 p2: [エネルギー] 闘エネルギー を ベンチ3 の エモンガ に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=63 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=63 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=22 ok=22 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=63 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100008, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×7]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×7]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×7]) out=[5, 0, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] マコモ を使う out=[4, 70007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERI\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=1:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=1:0.700000,5:0.300000,4:0.000000 chosen=1:0.700000
[DECIDE_PRE] t=63 player=p2 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=1 action_type=4 vec=[4, 70007, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=63 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) la_len=6 selected_idx=1 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=63 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) mcts_idx=1 mix_idx=1 changed=0
63 p2: [サポーター] マコモ を使う

[DEBUG] マコモ使用前: damaged_targets=1 / hand=9 deck=1 trash=24
マコモ をトラッシュに送りました。
エモンガ (HP: 70) のHPを40回復（70→70）
p2 のバトル場とベンチのポケモン全員のHPを40回復した
[DEBUG] マコモ使用後: hand=8 deck=1 trash=25
p2 は マコモ（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=63 n_actions=4 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=63 n_actions=4 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=4
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=4 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=5 ok=5 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p2 turn=63 forced_before=False target=[6, 100001, 0, 0, 0] cache_ok=False actions_len=2 ids_len=2 actions_sample=['type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[6, 100008, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×7]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×7]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー×7]) out=[5, 0, 3, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTIO\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=4 pi_top=3:1.000000,2:0.000000,1:0.000000 q_top=3:1.000000,2:0.000000,1:0.000000 mix_top=3:1.000000,2:0.000000,1:0.000000 chosen=3:1.000000
[DECIDE_PRE] t=63 player=p2 policy=OnlineMixedPolicy n_actions=4
[DECIDE_POST] idx=3 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=4
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=63 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) la_len=4 selected_idx=3 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=63 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
63 p2: [ターンエンド] 自分の番を終わる
p1 は山札から「ボウルタウン」を引きました（残り山札は11枚）
----- 先攻 64ターン開始: p1 -----
p1: 山札 11 / 手札 12 / トラッシュ 7 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=64 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=64 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=10 ok=10 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=64 forced_before=False target=[3, 50001, 0, 0, 0] cache_ok=False actions_len=6 ids_len=6 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[サポーター] ボスの指令 を使う action_type=4 serialize=[4, 70002, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [4, 70002, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う o\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=0:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=0:0.700000,7:0.300000,6:0.000000 chosen=0:0.700000
[DECIDE_PRE] t=64 player=p1 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=0 action_type=3 vec=[3, 50001, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 12 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=64 player=Player(p1, 手札: 12 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=8 selected_idx=0 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=64 player=Player(p1, 手札: 12 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=0 mix_idx=0 changed=0
64 p1: [グッズ] ハイパーボール を使う
ゼクロムex (HP: 230)をトラッシュしました
ゼクロムex (HP: 230)をトラッシュしました
ゼクロムex (HP: 230)を手札に加えました
山札をシャッフルしました
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=64 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=64 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError("[AZ][MCTS][SIM_FAIL] sim=3 ok=3 etype=RuntimeError err=RuntimeError('MatchPlayerSimEnv.step: could not find the Action object for the given 5-int id (cache+converter-based). This indicates policy output is not in legal_actions, or converter output is unstable.')\n[MCTS_MUTE_BUFFER]\n[MCTS_ENV][LA5][STEP_NO_MATCH] player=p1 turn=64 forced_before=False target=[4, 70002, 0, 0, 0] cache_ok=False actions_len=5 ids_len=5 actions_sample=['type=Action name=[サポーター] チェレン を使う action_type=4 serialize=[4, 70005, 0, 0, 0]', 'type=Action name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) action_type=5 serialize=[5, 0, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の なかまをよぶ action_type=6 serialize=[6, 100008, 0, 0, 0]', 'type=Action name=[ワザ宣言] エモンガ の バチバチ action_type=6 serialize=[6, 100007, 0, 0, 0]', 'type=Action name=[ターンエンド] 自分の番を終わる action_type=0 serialize=[0, 0, 0, 0, 0]'] ids_sample=[[4, 70005, 0, 0, 0], [5, 0, 0, 0, 0], [6, 100008, 0, 0, 0], [6, 100007, 0, 0, 0], [0, 0, 0, 0, 0]]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=5 name=[逃げる] バトル場の (エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]) out=[5, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の なかまをよぶ out=[6, 100008, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=6 name=[ワザ宣言] エモンガ の バチバチ out=[6, 100007, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=0 name=[ターンエンド] 自分の番を終わる out=[0, 0, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ポケモンキャッチャー を使う out=[3, 50002, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=3 name=[グッズ] ハイパーボール を使う out=[3, 50001, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] チェレン を使う out=[4, 70005, 0, 0, 0]\n[ACTION_SERIALIZE][MCTS] type=Action action_type=4 name=[サポーター] ボスの指令 を使う out=[4, 70002, 0, 0, 0]\n[A\n. (truncated)")
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=7:1.000000,6:0.000000,5:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=7:1.000000,6:0.000000,5:0.000000 chosen=7:1.000000
[DECIDE_PRE] t=64 player=p1 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=7 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=64 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=8 selected_idx=7 selected_p=1.000000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=64 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=7 mix_idx=7 changed=0
64 p1: [ターンエンド] 自分の番を終わる
p2 は山札から「闘エネルギー」を引きました（残り山札は0枚）
----- 後攻 65ターン開始: p2 -----
p2: 山札 0 / 手札 9 / トラッシュ 25 / ベンチ 3
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=65 n_actions=13 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=65 n_actions=13 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=13
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=13 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError('[AZ][MCTS] total_visits<=0 (no fallback).')
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=13 pi_top=5:1.000000,12:0.000000,11:0.000000 q_top=12:1.000000,11:0.000000,10:0.000000 mix_top=5:0.700000,12:0.300000,11:0.000000 chosen=5:0.700000
[DECIDE_PRE] t=65 player=p2 policy=OnlineMixedPolicy n_actions=13
[DECIDE_POST] idx=5 action_type=2 vec=[2, 6, 1, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=13
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=65 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) la_len=13 selected_idx=5 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=65 player=Player(p2, 手札: 9 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) mcts_idx=5 mix_idx=5 changed=0
65 p2: [エネルギー] 闘エネルギー を ベンチ1 の シビシラス に付ける
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=65 n_actions=5 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=65 n_actions=5 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=5
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=5 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError('[AZ][MCTS] total_visits<=0 (no fallback).')
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=5 pi_top=2:1.000000,4:0.000000,3:0.000000 q_top=4:1.000000,3:0.000000,2:0.000000 mix_top=2:0.700000,4:0.300000,3:0.000000 chosen=2:0.700000
[DECIDE_PRE] t=65 player=p2 policy=OnlineMixedPolicy n_actions=5
[DECIDE_POST] idx=2 action_type=6 vec=[6, 100008, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) base_out_type=int pi_len=5
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=65 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) la_len=5 selected_idx=2 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=65 player=Player(p2, 手札: 8 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー×7]], Bench: 3 cards, Points: 0) mcts_idx=2 mix_idx=2 changed=0
65 p2: [ワザ宣言] エモンガ の なかまをよぶ
p1 は山札から「ゼクロムex (HP: 230)」を引きました（残り山札は9枚）
----- 先攻 66ターン開始: p1 -----
p1: 山札 9 / 手札 11 / トラッシュ 10 / ベンチ 5
バトル場: エモンガ (HP:70)
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=66 n_actions=8 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=66 n_actions=8 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=8
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=8 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError('[AZ][MCTS] total_visits<=0 (no fallback).')
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=8 pi_top=3:1.000000,7:0.000000,6:0.000000 q_top=7:1.000000,6:0.000000,5:0.000000 mix_top=3:0.700000,7:0.300000,6:0.000000 chosen=3:0.700000
[DECIDE_PRE] t=66 player=p1 policy=OnlineMixedPolicy n_actions=8
[DECIDE_POST] idx=3 action_type=4 vec=[4, 70002, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=8
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=66 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=8 selected_idx=3 selected_p=0.700000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=66 player=Player(p1, 手札: 11 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=3 changed=0
66 p1: [サポーター] ボスの指令 を使う
ボスの指令 をトラッシュに送りました。
AIは相手のベンチ1（シビシラス）を選択
相手の エモンガ と シビシラス を入れ替えた！
p1 は ボスの指令（サポーター）を使った
[AZ][DECISION][CALL] entry=select_action_index_online game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=66 n_actions=6 return_pi=1
[AZ][DECISION][CALL] entry=select_action_index game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 turn=66 n_actions=6 return_pi=1
[AZ][MCTS][PRECHECK_ALWAYS] model_ok=1 use_mcts=1 env=MatchPlayerSimEnv sims=64 n_actions=6
[AZ][MCTS][_run_mcts][ENTER_ALWAYS] env=MatchPlayerSimEnv n_actions=6 num_simulations=64
[ONLINE_MIX][ERROR] policy=AlphaZeroMCTSPolicy kind=main failed in select_action_index(_online): RuntimeError('[AZ][MCTS] total_visits<=0 (no fallback).')
[PhaseD-Q][MIX_CORE] lam=0.300000 tau=1.000000 n_cand=6 pi_top=3:1.000000,5:0.000000,4:0.000000 q_top=5:1.000000,4:0.000000,3:0.000000 mix_top=3:0.700000,5:0.300000,4:0.000000 chosen=3:0.700000
[PhaseD-Q][MIX] tag=online_mix.outer ep=select_action_index_online use_q=True lam=0.300 tau=1.000 mcts_idx=3 mix_idx=5 mcts_top3=3:1.000,0:0.000,1:0.000 q_top3=5:-17729.137,2:-19713.531,1:-88641088.000 mix_top3=3:0.700,5:0.300,0:0.000
[DECIDE_PRE] t=66 player=p1 policy=OnlineMixedPolicy n_actions=6
[DECIDE_POST] idx=5 action_type=0 vec=[0, 0, 0, 0, 0]
[DECIDE_DIFF] mode=online_mix source=random mix_prob=1.0
[DECIDE_PRE] tag=online_mix.outer ep=select_action_index_online t=NA player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) base_out_type=int pi_len=6
[DECIDE_POST] tag=online_mix.outer ep=select_action_index_online t=66 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) la_len=6 selected_idx=5 selected_p=0.300000
[DECIDE_DIFF] tag=online_mix.outer ep=select_action_index_online t=66 player=Player(p1, 手札: 10 cards, バトル場: [エモンガ (HP: 70) [雷エネルギー, 闘エネルギー]], Bench: 5 cards, Points: 0) mcts_idx=3 mix_idx=5 changed=1
66 p1: [ターンエンド] 自分の番を終わる
p2 はターン開始時に山札からドローできませんでした。p1 の勝利です！
[SUMMARY] policy=online_mix total=78 main=20 fallback=0 random=58 main_ok=20 main_fail=58 fallback_calls=0 mix_prob=1.0 reason=deck_out
----- 後攻 67ターン開始: p2 -----
p2: 山札 0 / 手札 8 / トラッシュ 25 / ベンチ 3
バトル場: シビシラス (HP:40)

------ GAME OVER -------
p1 の勝利！
after 67 turns
[ONLINE_MIX][SUMMARY] game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 reason=DECK_OUT winner=p1 p1_total=77 p1_model=21 p1_fallback=0 p1_random=56 p1_errors=56 p2_total=78 p2_model=20 p2_fallback=0 p2_random=58 p2_errors=58 main_ok=41 main_fail=114 fb_calls=0
[PhaseD-Q][SUMMARY] game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 reason=DECK_OUT calls_total=155 q_used=155 q_eval_none=0 mix_changed=67 mix_same=88 mix_mcts_idx_none=0 mix_change_rate=0.432 pi_changed=136 pi_change_rate=0.877 pi_l1_avg=0.506733 skip_obs_not_numeric=0 skip_la_missing=0 skip_la_empty=0 skip_cand_missing=0 skip_ep_select_action_index_online=0 la_len_avg=7.33 la_len_min=1 la_len_max=18
[MCC_CALLS] game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 calls=7611 (samples=16)
第1戦終了（worker）  →  C:\Users\CLIVE\AppData\Local\Temp\ai_vs_ai_match_67032_1.log
[CANDDBG] t=0 la_src2_len=3 la_ids2_len=3 cand_vec_len=3 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=1 la_src2_len=3 la_ids2_len=3 cand_vec_len=3 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=2 la_src2_len=5 la_ids2_len=5 cand_vec_len=5 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=3 la_src2_len=5 la_ids2_len=5 cand_vec_len=5 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=4 la_src2_len=8 la_ids2_len=8 cand_vec_len=8 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=50 la_src2_len=2 la_ids2_len=2 cand_vec_len=2 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=100 la_src2_len=13 la_ids2_len=13 cand_vec_len=13 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG] t=150 la_src2_len=5 la_ids2_len=5 cand_vec_len=5 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=0 la_src2_len=3 la_ids2_len=3 cand_vec_len=3 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=1 la_src2_len=3 la_ids2_len=3 cand_vec_len=3 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=2 la_src2_len=5 la_ids2_len=5 cand_vec_len=5 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=3 la_src2_len=5 la_ids2_len=5 cand_vec_len=5 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=4 la_src2_len=8 la_ids2_len=8 cand_vec_len=8 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=50 la_src2_len=2 la_ids2_len=2 cand_vec_len=2 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=100 la_src2_len=13 la_ids2_len=13 cand_vec_len=13 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[CANDDBG/priv] t=150 la_src2_len=5 la_ids2_len=5 cand_vec_len=5 bad_dim=0 all_zero=0 all_m1=0 la0_type=list la0_len=5
[RESULT] match=1 game_id=24635c8e-70c5-4d27-9fef-80c433b229ab_67032_1 winner=p1
[COUNT/worker 67032] logged=1 skipped_deckout=0 total_tried=1 | total_logged_all=1
[POLICY_STATS/worker 67032] P1: total=77 model=21(27.27%) fallback=0(0.00%) random=56(72.73%) errors=56 last=random main_ok=21 main_fail=56 fallback_ok=0
[POLICY_STATS/worker 67032] P2: total=78 model=20(25.64%) fallback=0(0.00%) random=58(74.36%) errors=58 last=random main_ok=20 main_fail=58 fallback_ok=0
[writer] closed: raw_lines=154 ids_lines=0 priv_lines=0 batches=1
[writer] files: raw=D:\date\ai_vs_ai_match_all.jsonl size=13174184  ids=D:\date\ai_vs_ai_match_all_ids.jsonl size=0  priv=D:\date\ai_vs_ai_match_all_private_ids.jsonl size=0
[DONE] {'total_calls': 7611, 'num_matches': 1, 'wins_p1': 1, 'wins_p2': 0, 'wins_draw': 0, 'wins_unknown': 0, 'logged_matches': 1, 'skipped_deckout': 0, 'attempted_matches': 1, 'pi_missing_public': 23, 'pi_missing_private': 23}
[DONE] {'total_calls': 7611, 'num_matches': 1, 'wins_p1': 1, 'wins_p2': 0, 'wins_draw': 0, 'wins_unknown': 0, 'logged_matches': 1, 'skipped_deckout': 0, 'attempted_matches': 1, 'pi_missing_public': 23, 'pi_missing_private': 23}
[WINRATE] p1=100.00% p2=0.00% draw=0.00% (matches=1)
[PI_RAW_ABSENT] public=23 private=23
[PROGRESS] cumulative games raw=10 ids=0 private_ids=0 / target=800
[PROGRESS] remaining games: 800 (effective_games=0 / target=800)
[TURN_STATS] games=10
[TURN_STATS] min=30 max=185 avg=135.60
[TURN_STATS] sample_first20=[30, 31, 130, 154, 160, 160, 165, 165, 176, 185]
[PI_STATS] samples=0
[END_REASON_STATS] games=10
[END_REASON_STATS] BASICS_OUT=2
[END_REASON_STATS] DECK_OUT=8
[END_REASON_WINRATE] games=10
[END_REASON_WINRATE] BASICS_OUT: games=2 p1=1 p2=1 draw=0 unknown=0
[END_REASON_WINRATE] DECK_OUT: games=8 p1=4 p2=4 draw=0 unknown=0
[END_REASON_NONDECK_WINRATE] reasons=BASICS_OUT+PRIZE_OUT
[END_REASON_NONDECK_WINRATE] games=2 p1=1 p2=1 draw=0 unknown=0
[END_REASON_NONDECK_WINRATE] p1_winrate=50.00% p2_winrate=50.00% (non-deck games only)
[END_REASON_WINRATE] games=10
[END_REASON_WINRATE] BASICS_OUT: games=2 p1=1 p2=1 draw=0 unknown=0
[END_REASON_WINRATE] DECK_OUT: games=8 p1=4 p2=4 draw=0 unknown=0
[LOG] ===== game log end ===== ts=2026-01-04 22:53:49 status=OK
